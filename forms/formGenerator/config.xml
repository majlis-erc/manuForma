<?xml version="1.0" encoding="UTF-8"?>
<config type="wizard">
    <appTitle>manuForma</appTitle>
    <formTitle>Edit MS TEI Records</formTitle>
    <formURL>/exist/apps/manuForma/</formURL>
    <formName>msSimple</formName>
    <formAuthor>majlis-erc</formAuthor>
    <formDesc> </formDesc>
    
    <!-- Language to output lables, hints etc, if empty defaults to English -->
    <formLang>en</formLang>
    <formDesc> </formDesc>
    
    <!-- Language to output lables, hints etc, if empty defaults to English -->
    <formLang>en</formLang>
    
    <!-- Saving and managing created TEI files -->
    <recordManagement>
        <baseURI>https://jalit.org/manuscript/</baseURI>
        <saveOptions>
            <option name="github" enable="true">
                <parameter name="githubRepoName">majlis-data</parameter>
                <parameter name="githubPath">data/manuscripts/tei/</parameter>
                <parameter name="githubOwner">majlis-erc</parameter>
                <parameter name="githubBranch">main</parameter>
            </option>
            <option name="exist-db" enable="true">
                <parameter name="eXistCollection">/db/apps/majlis-data/data/manuscripts/tei</parameter>
            </option>
            <option name="download" enable="true"/>
        </saveOptions>
        <retrieveOptions>
            <option name="exist-db" enable="true">
                <parameter name="eXistCollection">/db/apps/majlis-data/data/manuscripts/tei</parameter>
            </option>
        </retrieveOptions>
    </recordManagement>
    <!-- Blank templates can be used as a starting point for editing. Multiple templates can be included here.  -->
    <blankTemplates>
        <template name="Manuscript template" src="/forms/templates/full-mss-template.xml"/>
    </blankTemplates>
    
    <!-- Add lookup options for elements with controlled vocabularly, must have an api already working. Example the Srophe apps person or places api -->
    <lookups>
        <lookup api="/exist/apps/majlis/api/search/mutual?format=xml&amp;q=" 
            formURL="forms/msSimple/lookup/mutual.xhtml" 
            elementName="mutual" 
            formName="mutual" 
            lookupLabel="Look up mutual relations."/>
        <lookup api="/exist/apps/majlis/api/search/active?format=xml&amp;q=" 
            formURL="forms/msSimple/lookup/mutual.xhtml" 
            elementName="active" 
            formName="active" 
            lookupLabel="Look up subject of relation."/>
        <lookup api="/exist/apps/majlis/api/search/passive?format=xml&amp;q=" 
            formURL="forms/msSimple/lookup/mutual.xhtml" 
            elementName="passive" 
            formName="passive" 
            lookupLabel="Look up object of relation."/>
        <lookup 
            api="/exist/apps/majlis/api/search/persName?format=xml&amp;q=" 
            formURL="forms/msSimple/lookup/persName.xhtml" 
            elementName="persName" 
            formName="persName" 
            lookupLabel="Look up persons."/>
        <popup formName="personTEI" elementName="persName" label="New person"/>
        <lookup 
            api="/exist/apps/majlis/api/search/placeName?format=xml&amp;q=" 
            formURL="forms/msSimple/lookup/placeName.xhtml" 
            elementName="placeName" 
            formName="placeName" 
            lookupLabel="Look up places."/>
        <popup formName="placeTEI" elementName="placeName" label="New place"/>
        <lookup
            api="/exist/apps/majlis/api/search/persName?format=xml&amp;collection=persons&amp;wrapElement=author&amp;q=" 
            formURL="forms/msSimple/lookup/author.xhtml" 
            elementName="author" 
            formName="author" 
            lookupLabel="Look up author record."/>
        <popup formName="authorTEI" elementName="author" label="New author"/>
        <lookup
            api="/exist/apps/majlis/api/search/title?format=xml&amp;collection=works&amp;q=" 
            formURL="forms/msSimple/lookup/title.xhtml" 
            elementName="title" 
            formName="title" 
            lookupLabel="Look up title."/>
        <!-- Does not work, no easy way to tie xpath to look up
            <lookup api="/exist/apps/majlis/api/search/title?format=xml&amp;q=" formURL="forms/msSimple/lookup/title.xhtml" xpath="not(parent::*:bibl)" elementName="title" formName="title" lookupLabel="Look up title"/> -->
        <popup formName="worksTEI" elementName="title" label="New work"/>
        <lookup 
            api="/exist/apps/majlis/api/search/citation?format=xml&amp;q=" 
            formURL="forms/msSimple/lookup/bibl.xhtml" 
            elementName="bibl" 
            formName="bibl" 
            lookupLabel="Look up bibliographic record."/>
        <!-- 
        formatting a request to the lookup api
        api: formats the request, parameters: 
            /name of request - usually specifies the type of request or element to be searched. 
            @format - xml/json/html
            @collection - collections to be searched, should match collections in your data directory
            @wrapElement - element that will contain the search results, if different from the name of the request
                example the following searches all persNames, but returns results wrapped in author element for insertion into TEI record: 
                /exist/apps/majlis/api/search/persName?format=xml&amp;wrapElement=author&amp;q=
            @q - query to search 
        elementName - the element that will trigger the lookup
        formName - the name of the lookup form (usually uses same name as element, for simplicity)
        lookupLabel - Label to show up in forms
        -->
    </lookups>
    <projectSpecificData>
        <xmlPath name="Project Picker" src="/forms/templates/editionStmtProjectOptions.xml" element="editionStmt"/>
    </projectSpecificData>
    <!--
        For better performance the TEI records are into sections. Each section will output a form. 
        This will allow better load and response time for forms, and a step-by-step method of editing records. 
        In process records can be stored in the eXist-db database or downloaded to the file system, where they can be loaded 
        into the form again as needed. 
        
        List forms in order of editing preference.
        additions
    -->
    <subforms>
        <subform xpath="/tei:TEI/descendant::tei:teiHeader/tei:fileDesc/tei:titleStmt" formName="titleStmt" formLabel="Header" repeat="no" lookup="no">
            <formDesc>Record information pertaining the institutions and people behind the project.</formDesc>
            <localSchema src="../schemas/titleStmt.xml"/>
            <globalSchema src="../schemas/mss-compiled.odd"/>
            <xmlTemplate src="../templates/full-mss-template.xml"/>
            <elementGroups>
                <group groupLabel="Record title and project information." groupNo="1" repeatable="no">
                    <element xpath="tei:title"/>
                    <element xpath="tei:sponsor"/>
                    <element xpath="tei:funder"/>
                </group>
                <group groupLabel="Project team." groupNo="2" repeatable="no">
                    <element xpath="tei:editor"/>
                    <element xpath="tei:respStmt"/>
                </group>
            </elementGroups>
        </subform>
        <subform xpath="/tei:TEI/descendant::tei:msDesc/tei:msIdentifier" formName="identification" formLabel="Identification" repeat="no">
            <localSchema src="../schemas/mss-identification.xml"/>
            <globalSchema src="../schemas/mss-identification.xml"/>
            <xmlTemplate src="../templates/full-mss-template.xml"/>
            <formDesc>Add shelfmark and information on the holding institution. Add alternate identifiers in existing catalogues and external databases.</formDesc>
            <controlledValuesElements>
                <element ident="country">
                    <valList type="closed">
                        <valItem ident="Egypt"/>
                        <valItem ident="France"/>
                        <valItem ident="Germany"/>
                        <valItem ident="Great Britain"/>
                        <valItem ident="Hungary"/>
                        <valItem ident="Israel"/>
                        <valItem ident="Ukraine"/>
                        <valItem ident="Russia"/>
                        <valItem ident="USA"/>
                    </valList>
                </element>
                <element ident="settlement">
                    <valList type="closed">
                        <valItem ident="Budapest"/>
                        <valItem ident="Cairo"/>
                        <valItem ident="Cambridge"/>
                        <valItem ident="Jerusalem"/>
                        <valItem ident="Kyiv"/>
                        <valItem ident="Leipzig"/>
                        <valItem ident="London"/>
                        <valItem ident="Paris"/>
                        <valItem ident="Princeton"/>
                        <valItem ident="New York"/>
                        <valItem ident="St. Petersburg"/>
                    </valList>
                </element>
                <element ident="repository">
                    <valList type="closed">
                        <valItem ident="Alliance Israélite Universelle"/>
                        <valItem ident="Ben Zvi Institute"/>
                        <valItem ident="Bibliothèque Nationale de France"/>
                        <valItem ident="British Library"/>
                        <valItem ident="Cambridge University Library"/>
                        <valItem ident="Institute of Oriental Manuscripts"/>
                        <valItem ident="Jewish Theological Seminary"/>
                        <valItem ident="Karaite Synagogue"/>
                        <valItem ident="Library of the Hungarian Academy of Sciences"/>
                        <valItem ident="National Library of Russia"/>
                        <valItem ident="Princeton University Library"/>
                        <valItem ident="Sassoon"/>
                        <valItem ident="Universitätsbibliothek Leipzig"/>
                        <valItem ident="Vernadsky National Library of Ukraine"/>
                    </valList>
                </element>
                <element ident="collection">
                    <valList type="closed">
                        <valItem ident="Arab.-Yevr."/>
                        <valItem ident="Firk. Arab."/>
                        <valItem ident="Yevr. I"/>
                        <valItem ident="Yevr. I A"/>
                        <valItem ident="Yevr. I B"/>
                        <valItem ident="Yevr. I Bibl."/>
                        <valItem ident="Yevr. II A"/>
                        <valItem ident="Yevr. II B"/>
                        <valItem ident="Yevr. II C"/>
                        <valItem ident="Yevr. II K"/>
                        <valItem ident="Yevr. III A"/>
                        <valItem ident="Yevr. III B"/>
                        <valItem ident="Yevr. IV"/>
                        <valItem ident="Yevr.-Arab. I"/>
                        <valItem ident="Yevr.-Arab. II"/>
                        <valItem ident=""/>
                        <valItem ident="Add."/>
                        <valItem ident="Harkavy"/>
                        <valItem ident="Hébr."/>
                        <valItem ident="Kaufmann"/>
                        <valItem ident="Oriental"/>
                        <valItem ident="T-S"/>
                        <valItem ident="Vollers"/>
                    </valList>
                </element>
            </controlledValuesElements>
            <elementGroups>
                <group groupLabel="Identification via location, place, institution, collection, shelfmark." groupNo="1" repeatable="no">
                    <element xpath="tei:country"/>
                    <element xpath="tei:settlement"/>
                    <element xpath="tei:repository"/>
                    <element xpath="tei:idno"/>
                    <element xpath="tei:institution"/>
                    <element xpath="tei:collection"/>
                </group>
                <group groupLabel="Identification via old shelfmark or via catalogues and external databases." groupNo="2" repeatable="no">
                    <element xpath="tei:altIdentifier"/>
                    <element xpath="tei:msName"/>
                </group>
            </elementGroups>
        </subform>
        <subform xpath="/tei:TEI/descendant::tei:msDesc/tei:additional/tei:surrogates/tei:listBibl" formName="reproductions"
            formLabel="Reproductions" repeat="no">
            <lookup elementName="title" suppress="true"/>
            <localSchema src="../schemas/mss-reproductions.xml"/>
            <globalSchema src="../schemas/mss-reproductions.xml"/>
            <xmlTemplate src="../templates/full-mss-template.xml"/>
            <formDesc>Add information on reproductions, such as digital images, microfilms or other types.</formDesc>
            <elementGroups>
                <group groupLabel="Reproduction" groupLabelConditionalElement="./*:title"
                    groupLabelXPath="./*:title" groupNo="1" repeatable="yes">
                    <element xpath="tei:bibl"/>
                </group>
            </elementGroups>
            <controlledValuesElements>
                <element ident="title">
                    <valList type="closed">
                        <valItem ident="Microfilm"/>
                        <valItem ident="Microfiche"/>
                        <valItem ident="Photostat"/>
                        <valItem ident="Digital image offline"/>
                        <valItem ident="Digital image online"/>
                    </valList>
                </element>
                <element ident="publisher">
                    <valList type="closed">
                        <valItem ident="National Library of Israel"/>
                        <valItem ident="British Library"/>
                    </valList>
                </element>
            </controlledValuesElements>
        </subform>
        <subform xpath="/tei:TEI/descendant::tei:physDesc/tei:ab" formName="codicological-definition" formLabel="Codicological definition" repeat="no">
            <localSchema src="../schemas/mss-codicological-definition.xml"/>
            <globalSchema src="../schemas/mss-codicological-definition.xml"/>
            <xmlTemplate src="../templates/full-mss-template.xml"/>
            <lookup
                api="/exist/apps/majlis/api/search/titleBibl?format=xml&amp;collection=manuscripts&amp;wrapElement=idno&amp;q=" 
                formURL="forms/msSimple/lookup/titleBibl.xhtml" 
                elementName="bibl" 
                formName="titleBibl" 
                lookupLabel="Look up manuscript record."/>
            <formDesc>Give a basic codicological definition of the book and specify the type and form. Indicate joins to other shelfmarks.</formDesc>
            <elementGroups>
                <group groupLabel="Codicological definition." groupLabelConditionalElement="./*" groupLabelXPath="concat('Codicological definition: ', string-join((./*:objectType[string()] | ./*:objectType/@*[string()]), ' '), '.')" groupNo="1" repeatable="no">
                    <element xpath="tei:objectType"/>
                </group>
                <group groupLabel="List of manuscript joins." groupNo="2" repeatable="no">
                    <element xpath="tei:listBibl"/>
                </group>
            </elementGroups>
            <controlledValuesElements>
                <element ident="objectType">
                    <valList type="closed">
                        <valItem ident="Single manuscript"/>
                        <valItem ident="Composite manuscript"/>
                        <valItem ident="Multiple text manuscript"/>
                    </valList>
                </element>
            </controlledValuesElements>
        </subform>
        <subform xpath="/tei:TEI/descendant::tei:msDesc/tei:msContents" formName="content-description" formLabel="Content description" repeat="no">
            <localSchema src="../schemas/mss-content-description.xml"/>
            <globalSchema src="../schemas/mss-content-description.xml"/>
            <xmlTemplate src="../templates/full-mss-template.xml"/>
            <lookup
                api="/exist/apps/majlis/api/search/persName?format=xml&amp;collection=persons&amp;wrapElement=author&amp;q=" 
                formURL="forms/msSimple/lookup/author.xhtml" 
                elementName="author" 
                formName="author" 
                lookupLabel="Look up author record."/>
            <lookup
                api="/exist/apps/majlis/api/search/title?format=xml&amp;collection=works&amp;q=" 
                formURL="forms/msSimple/lookup/title.xhtml" 
                elementName="title" 
                formName="title" 
                lookupLabel="Look up title record."/>
            <formDesc>Describe the textual unit(s) in general terms and in detail.</formDesc>
            <elementGroups>
                <group groupLabel="Summary of contents." groupNo="1">
                    <element xpath="tei:summary"/>
                </group>
                <group groupLabel="Detailed description of text unit: title, author, language, rubrics, etc." groupLabelConditionalElement="./*:title" groupLabelXPath="concat(./*:author, ' – ', ./*:title,' (fols. ',./*:locus/@from, '–',./*:locus/@to, ').')" groupNo="2" repeatable="yes">
                    <element xpath="tei:msItem"/>
                </group>
            </elementGroups>
        </subform>
        <subform xpath="/tei:TEI/descendant::tei:msDesc/tei:physDesc/tei:objectDesc/tei:supportDesc" formName="writing-material"
            formLabel="Physical description: writing material" repeat="no">
            <localSchema src="../schemas/mss-writing-material.xml"/>
            <globalSchema src="../schemas/mss-compiled.odd"/>
            <xmlTemplate src="../templates/full-mss-template.xml"/>
            <lookup api="/exist/apps/majlis/api/search/placeName?format=xml&amp;wrapElement=origPlace&amp;q=" formURL="forms/msSimple/lookup/placeName.xhtml" elementName="origPlace" formName="placeName" lookupLabel="Look up places"/>
            <formDesc>Describe the writing material, measurements and related additional properties of the manuscript.</formDesc>
            <elementGroups>
                <group groupLabel="Writing material of the manuscript." groupLabelConditionalElement="./*:material"
                    groupLabelXPath="concat('Writing material of the manuscript: ',./*:material,'.')" groupNo="1">
                    <element xpath="tei:support"/>
                </group>
                <group groupLabel="Measurements of the page (number of folios, height and width)." groupNo="2">
                    <element xpath="tei:extent"/>
                </group>
                <group groupLabel="Additional properties of the page (foliation, composition of quires, catchwords, state of conservation)."
                    groupNo="3">
                    <element xpath="tei:foliation"/>
                    <element xpath="tei:collation"/>
                    <element xpath="tei:condition"/>
                </group>
            </elementGroups>
            <controlledValuesElements>
                <element ident="catchwords">
                    <valList type="closed">
                        <valItem ident="No marking"/>
                        <valItem ident="Catchwords at the end of quires"/>
                        <valItem ident="Catchwords at the end of folios"/>
                        <valItem ident="Catchwords at the end of pages"/>
                        <valItem ident="Middle markings"/>
                        <valItem ident="Signatures at the end of quires"/>
                        <valItem ident="Signatures at the beginning of quires"/>
                    </valList>
                </element>
                <element ident="material">
                    <valList type="closed">
                        <valItem ident="Paper"/>
                        <valItem ident="Parchment"/>
                        <valItem ident="Papyrus"/>
                        <valItem ident="Cardboard"/>
                        <valItem ident="Leather"/>
                        <valItem ident="Textile"/>
                        <valItem ident="Cotton"/>
                        <valItem ident="Other"/>
                    </valList>
                </element>
                <element ident="formula">
                    <valList type="closed">
                        <valItem ident="1"/>
                        <valItem ident="2"/>
                        <valItem ident="3"/>
                        <valItem ident="4"/>
                        <valItem ident="5"/>
                        <valItem ident="6"/>
                        <valItem ident="7"/>
                        <valItem ident="8"/>
                        <valItem ident="9"/>
                        <valItem ident="10"/>
                    </valList>
                </element>
            </controlledValuesElements>
        </subform>
        <subform xpath="/tei:TEI/descendant::tei:msDesc/tei:physDesc/tei:objectDesc/tei:layoutDesc" formName="page-layout" formLabel="Physical description: page layout" repeat="no">
            <localSchema src="../schemas/mss-page-layout.xml"/>
            <globalSchema src="../schemas/mss-compiled.odd"/>
            <xmlTemplate src="../templates/full-mss-template.xml"/>
            <formDesc>Describe the page layout of the manuscript. If necessary, you can define multiple page layouts.</formDesc>
            <elementGroups>
                <group groupLabel="Summary of page layout." groupNo="1">
                    <element xpath="tei:summary"/>
                </group>
                <group groupLabel="Detailed description of page layout: text block, justification, ruling and pricking." groupNo="2"  repeatable="yes">
                    <element xpath="tei:layout"/>
                </group>
                <!--<group groupLabel="Detailed description of page layout: text block, justification, ruling and pricking." groupLabelConditionalElement="." groupLabelXPath="concat('Page layout: fols. ',./*:locus/@from,'–',./*:locus/@to,')" groupNo="2"  repeatable="yes">
                    <element xpath="tei:layout"/>
                </group>-->
            </elementGroups>
            <controlledValuesElements>
                <element ident="desc">
                    <valList type="closed">
                        <valItem ident="Text on recto and verso"/>
                        <valItem ident="Recto always in flesh side"/>
                        <valItem ident="Recto always in hair side"/>
                        <valItem ident="Text on one side only"/>
                        <valItem ident="Text on flesh side only"/>
                        <valItem ident="Text on hair side only"/>
                        <valItem ident="Text on the verso upside down in respect to the recto"/>
                        <valItem ident="Long lines"/>
                        <valItem ident="Additional blocks of text"/>
                        <valItem ident="Text in blocks on the page"/>
                        <valItem ident="Cul-de-lampe"/>
                        <valItem ident="Tables"/>
                    </valList>
                </element>
                <element ident="ab">
                    <valList type="closed">
                        <valItem ident="There is pricking"/>
                        <valItem ident="No pricking"/>
                        <valItem ident="No pricking can be seen"/>
                        <valItem ident=" "/>
                        <valItem ident="There is ruling"/>
                        <valItem ident="No ruling"/>
                        <valItem ident="No ruling can be seen"/>
                        <valItem ident=" "/>
                        <valItem ident="Prickings for horizontal lines"/>
                        <valItem ident="Prickings for vertical lines"/>
                        <valItem ident="Prickings for horizontal and vertical lines"/>
                        <valItem ident="Prickings for additional lines"/>
                        <valItem ident="Double prickings for certain lines"/>
                        <valItem ident=" "/>
                        <valItem ident="Framework only"/>
                        <valItem ident="Grid of single vertical and horizontal lines"/>
                        <valItem ident="Variable"/>
                    </valList>
                </element>
                <element ident="metamark">
                    <valList type="closed">
                        <valItem ident="Left-hand margin is not even"/>
                        <valItem ident="Space fillers"/>
                        <valItem ident="Extended letters"/>
                        <valItem ident="Reduced letters"/>
                        <valItem ident="Broken letters"/>
                        <valItem ident="Anticipation"/>
                        <valItem ident="Abbreviation"/>
                        <valItem ident="Change of script register"/>
                        <valItem ident="Writing above the line horizontal"/>
                        <valItem ident="Writing above the line oblique"/>
                        <valItem ident="Writing below the line"/>
                        <valItem ident="Vertical writing"/>
                        <valItem ident="Change of orientation of letter components"/>
                        <valItem ident="Other"/>
                    </valList>
                </element>
            </controlledValuesElements>
        </subform>
        <subform xpath="/tei:TEI/descendant::tei:msDesc/tei:physDesc/tei:decoDesc" formName="text-layout" formLabel="Physical description: text layout"
            repeat="no">
            <localSchema src="../schemas/mss-text-layout.xml"/>
            <globalSchema src="../schemas/mss-compiled.odd"/>
            <xmlTemplate src="../templates/full-mss-template.xml"/>
            <formDesc>Describe features of the text layout facilitating navigation through the text (e.g. numbering of sections, enlarged titles,
                decoration, etc.).</formDesc>
            <elementGroups>
                <group groupLabel="Summary of text layout." groupNo="1">
                    <element xpath="tei:summary"/>
                </group>
                <group groupLabel="Detailed description(s) of text layout." groupNo="2">
                    <element xpath="tei:decoNote"/>
                </group>
            </elementGroups>
            <controlledValuesElements>
                <element ident="desc">
                    <valList type="closed">
                        <valItem ident="No graphic marks of text navigation"/>
                        <valItem ident="Spaces between paragraphs"/>
                        <valItem ident="Paragraph marks and textual dividers"/>
                        <valItem ident="Rubric"/>
                        <valItem ident="Numbering of sections"/>
                        <valItem ident="Enlarged titles and incipits"/>
                        <valItem ident="Explicits"/>
                        <valItem ident="Colours"/>
                        <valItem ident="Other"/>
                        <valItem ident="Change of script type"/>
                        <valItem ident="Decoration"/>
                        <valItem ident="Other"/>
                    </valList>
                </element>
            </controlledValuesElements>
        </subform>
        <subform xpath="/tei:TEI/descendant::tei:msDesc/tei:physDesc" formName="script-hand-description" formLabel="Physical description: script/hand description" repeat="no">
            <localSchema src="../schemas/mss-script-hand-description.xml"/>
            <globalSchema src="../schemas/mss-compiled.odd"/>
            <xmlTemplate src="../templates/full-mss-template.xml"/>
            <lookup
                api="/exist/apps/majlis/api/search/persName?format=xml&amp;collection=persons&amp;q=" 
                formURL="forms/msSimple/lookup/persName.xhtml" 
                elementName="persName" 
                formName="persName" 
                lookupLabel="Look up person record."/>
            <lookup
                api="/exist/apps/majlis/api/search/placeName?format=xml&amp;collection=places&amp;q=" 
                formURL="forms/msSimple/lookup/placeName.xhtml" 
                elementName="placeName" 
                formName="placeName" 
                lookupLabel="Look up place record."/>
            <formDesc>Describe script type(s) and hand(s) of the manuscript.</formDesc>
            <elementGroups>
                <group groupLabel="Definition of script." groupNo="1"  repeatable="yes">
                    <element xpath="tei:scriptDesc/tei:scriptNote"/>
                </group>
                <group groupLabel="Scribal hand(s)." groupNo="2" repeatable="no">
                    <element xpath="tei:handDesc"/>
                </group>
            </elementGroups>
        </subform>
        <subform xpath="/tei:TEI/descendant::tei:msDesc/tei:physDesc/tei:additions/tei:list" formName="incodicated-documents" formLabel="Incodicated documents" repeat="no">
            <localSchema src="../schemas/mss-incodicated-documents.xml"/>
            <globalSchema src="../schemas/mss-compiled.odd"/>
            <xmlTemplate src="../templates/full-mss-template.xml"/>
            <lookup 
                api="/exist/apps/majlis/api/search/citation?format=xml&amp;q=" 
                formURL="forms/msSimple/lookup/bibl.xhtml" 
                elementName="bibl" 
                formName="bibl" 
                lookupLabel="Look up bibliographic record."/>
            <lookup
                api="/exist/apps/majlis/api/search/persName?format=xml&amp;collection=persons&amp;q=" 
                formURL="forms/msSimple/lookup/persName.xhtml" 
                elementName="persName" 
                formName="persName" 
                lookupLabel="Look up person record."/>
            <lookup
                api="/exist/apps/majlis/api/search/placeName?format=xml&amp;collection=places&amp;q=" 
                formURL="forms/msSimple/lookup/placeName.xhtml" 
                elementName="placeName" 
                formName="placeName" 
                lookupLabel="Look up place record."/>
            <lookup api="/exist/apps/majlis/api/search/mutual?format=xml&amp;q=" 
                formURL="forms/msSimple/lookup/mutual.xhtml" 
                elementName="mutual" 
                formName="mutual" 
                lookupLabel="Look up mutual relations."/>
            <lookup api="/exist/apps/majlis/api/search/active?format=xml&amp;q=" 
                formURL="forms/msSimple/lookup/mutual.xhtml" 
                elementName="active" 
                formName="active" 
                lookupLabel="Look up subject of relation."/>
            <lookup api="/exist/apps/majlis/api/search/passive?format=xml&amp;q=" 
                formURL="forms/msSimple/lookup/mutual.xhtml" 
                elementName="passive" 
                formName="passive" 
                lookupLabel="Look object of relation."/>
            <formDesc>Describe and transcribe incodicated documents (colophons, certificates of endowments, ownership statements, etc.).</formDesc>
            <elementGroups>
                <group groupLabel="Incodicated document." groupLabelConditionalElement="./*:objectType" groupLabelXPath="concat('fols. ',./*:locus/@from,'–',./*:locus/@to,' ',./*:objectType,'.')" groupNo="1" repeatable="yes">
                    <element xpath="tei:item"/>
                </group>
            </elementGroups>
            <controlledValuesElements>
                <element ident="objectType">
                    <valList type="closed">
                        <valItem ident="Colophon"/> 
                        <valItem ident="Patronage"/>
                        <valItem ident="Certificates of transmission"/>
                        <valItem ident="Certificates of endowment"/>	
                        <valItem ident="Bequest statements"/>
                        <valItem ident="Ownership statements"/> 
                        <valItem ident="Contract – Sale"/> 
                        <valItem ident="Contract – Donation"/>
                        <valItem ident="Contract – Personal status"/>
                        <valItem ident="Contract of employment of a scribe"/>
                        <valItem ident="Ex libris"/>
                        <valItem ident="Inventory"/>
                        <valItem ident="Book list"/>
                        <valItem ident="Family genealogy"/>
                        <valItem ident="Note"/>
                        <valItem ident="Proofreading note"/>
                        <valItem ident="Ijāza"/>
                        <valItem ident="Transmission note"/>
                        <valItem ident="Reader’s formula"/>
                        <valItem ident="Signatures"/> 
                        <valItem ident="Stamps"/> 
                        <valItem ident="Talismanic inscriptions"/>
                        <valItem ident="Magic squares"/>
                        <valItem ident="Magic letters"/>
                        <valItem ident="Solomon seal"/>
                        <valItem ident="Kabīkaj"/>
                        <valItem ident="Geomantic figures"/>
                        <valItem ident="Observations"/>
                    </valList>
                </element>
            </controlledValuesElements>
        </subform>
        <subform xpath="/tei:TEI/descendant::tei:msDesc/tei:physDesc/tei:bindingDesc/tei:binding" formName="binding-description" formLabel="Binding description" repeat="no">
            <localSchema src="../schemas/mss-binding-description.xml"/>
            <globalSchema src="../schemas/mss-compiled.odd"/>
            <xmlTemplate src="../templates/full-mss-template.xml"/>
            <formDesc>Describe the binding of the manuscript.</formDesc>
            <lookup api="/exist/apps/majlis/api/search/placeName?format=xml&amp;wrapElement=origPlace&amp;q=" formURL="forms/msSimple/lookup/placeName.xhtml" elementName="origPlace" formName="placeName" lookupLabel="Look up places"/>
            <elementGroups>
                <group groupLabel="Binding's origin, material, and dimensions." groupNo="1">
                    <element xpath="tei:decoNote"/>
                </group>
            </elementGroups>
            <elementGroups>
                <group groupLabel="State of conservation of the binding." groupNo="2">
                    <element xpath="tei:condition"/>
                </group>
            </elementGroups>
            <controlledValuesElements>
                <element ident="objectType">
                    <valList type="closed">
                        <valItem ident="Original"/>
                        <valItem ident="Later"/>
                        <valItem ident="Unbound"/> 
                    </valList>
                </element>
                <element ident="material">
                    <valList type="closed">
                        <valItem ident="Paper"/>
                        <valItem ident="Parchment"/>
                        <valItem ident="Cardboard"/>
                        <valItem ident="Wood"/>
                        <valItem ident="Papyrus"/>
                        <valItem ident="Cotton"/>
                        <valItem ident="Leather"/>
                        <valItem ident="Metal"/>
                        <valItem ident="Textile"/>
                        <valItem ident="Other"/>
                        <valItem ident="Silk"/>
                        <valItem ident="Bronze"/>
                    </valList>
                </element>
            </controlledValuesElements>
        </subform>
        <subform xpath="/tei:TEI/descendant::tei:msDesc/tei:physDesc/tei:accMat/tei:list" formName="heritage-data" formLabel="Heritage data" repeat="no">
            <localSchema src="../schemas/mss-heritage-data.xml"/>
            <globalSchema src="../schemas/mss-compiled.odd"/>
            <xmlTemplate src="../templates/full-mss-template.xml"/>
            <lookup 
                api="/exist/apps/majlis/api/search/citation?format=xml&amp;q=" 
                formURL="forms/msSimple/lookup/bibl.xhtml" 
                elementName="bibl" 
                formName="bibl" 
                lookupLabel="Look up bibliographic record."/>
            <lookup
                api="/exist/apps/majlis/api/search/persName?format=xml&amp;collection=persons&amp;q=" 
                formURL="forms/msSimple/lookup/persName.xhtml" 
                elementName="persName" 
                formName="persName" 
                lookupLabel="Look up person record."/>
            <lookup elementName="title" suppress="true"/>
            <popup suppress="true"
                elementName="title"/>
            <formDesc>Add descriptions of the manuscript from earlier catalogs and internal library records.</formDesc>
            <elementGroups>
                <group groupLabel="Quotation from and information about the heritage material." groupLabelConditionalElement="./*:bibl/*:title" groupLabelXPath="./*:bibl/*:title" groupNo="1" repeatable="yes">
                    <element xpath="tei:item"/>
                </group>
            </elementGroups>
        </subform> 
        <subform xpath="/tei:TEI/descendant::tei:msDesc/tei:history" formName="manuscript-history" formLabel="Manuscript history" repeat="no">
            <localSchema src="../schemas/mss-manuscript-history.xml"/>
            <globalSchema src="../schemas/mss-compiled.odd"/>
            <lookup
                api="/exist/apps/majlis/api/search/persName?format=xml&amp;collection=persons&amp;q=" 
                formURL="forms/msSimple/lookup/persName.xhtml" 
                elementName="persName" 
                formName="persName" 
                lookupLabel="Look up person record."/>
            <lookup
                api="/exist/apps/majlis/api/search/placeName?format=xml&amp;collection=places&amp;q=" 
                formURL="forms/msSimple/lookup/placeName.xhtml" 
                elementName="placeName" 
                formName="placeName" 
                lookupLabel="Look up place record."/>
            <xmlTemplate src="../templates/full-mss-template.xml"/>
            <formDesc>Describe the history of acquisition, in particular modern, and how the manuscript became part of its present holding institution.</formDesc>
            <elementGroups>
                <group groupLabel="Summary of the acquisition history of the manuscript." groupNo="1">
                    <element xpath="tei:summary"/>
                </group>
                <group groupLabel="Traces left by modern owners of the manuscript (date, place, folios, person, quotation)." groupLabelConditionalElement="./*:persName" groupLabelXPath="concat('Later owner: ', ./*:persName)" groupNo="2"  repeatable="yes">
                    <element xpath="tei:provenance"/>
                </group>
                <group groupLabel="Traces left by the present holding institution (date, place, folios, person, quotation, stamp)." groupNo="3">
                    <element xpath="tei:acquisition"/>
                </group>
            </elementGroups>
        </subform>
        <subform xpath="/tei:TEI/descendant::tei:msDesc/tei:additional/tei:listBibl" formName="bibliography" formLabel="Bibliography" repeat="no">
            <localSchema src="../schemas/mss-bibliography.xml"/>
            <globalSchema src="../schemas/mss-compiled.odd"/>
            <xmlTemplate src="../templates/full-mss-template.xml"/>
            <lookup elementName="title" suppress="true"/>
            <lookup 
                api="/exist/apps/majlis/api/search/citation?format=xml&amp;q=" 
                formURL="forms/msSimple/lookup/bibl.xhtml" 
                elementName="bibl" 
                formName="bibl" 
                lookupLabel="Look up bibliographic record."/>
            <formDesc>Add bibliographic references from the Zotero database.</formDesc>
            <elementGroups>
                <group groupLabel="Bibliographic reference." groupLabelConditionalElement="./*:title" groupLabelXPath="./*:title" groupNo="1"  repeatable="yes">
                    <element xpath="tei:bibl"/>
                </group>
            </elementGroups>
        </subform>        
    </subforms>
</config>   