<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xmlns:sc="http://www.ascc.net/xml/schematron" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:tei="http://www.tei-c.org/ns/1.0" xmlns:srophe="https://srophe.app" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xf="http://www.w3.org/2002/xforms" xmlns:local="http://syriaca.org/ns">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
      <meta name="author" content="majlis-erc" />
      <meta name="description" content="Create and edit Place records for MAJLIS: The Transformation of Jewish Literature in Arabic in the Islamicate World. Record information pertaining the institutions and people behind the project. Information about work. Add relations to other works. Add manuscripts and editions from the database. Add bibliographic references from the Zotero database." />
      <link rel="shortcut icon" href="resources/images/hn/favicon-16.png" />
      <title>Edit Works TEI records</title>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css" />
      <link rel="stylesheet" type="text/css" href="resources/bootstrap/css/bootstrap.min.css" />
      <link rel="stylesheet" type="text/css" href="resources/css/style.css" />
      <link rel="stylesheet" type="text/css" href="resources/css/xforms.css" /><script type="text/javascript" src="resources/js/jquery.min.js"></script><script type="text/javascript" src="resources/bootstrap/js/bootstrap.min.js"></script><xf:model id="m-mss">
         <xf:instance id="i-schemaConstraints" src="forms/worksTEI/templates/bibl-schemaConstraints.xml"></xf:instance>
         <xf:instance id="i-bibl-schemaConstraints" src="forms/worksTEI/templates/bibl-schemaConstraints.xml"></xf:instance>
         <xf:instance id="i-bibl-elementTemplate" src="forms/worksTEI/templates/bibl-elementTemplate.xml"></xf:instance>
         <xf:instance id="i-bibl-subforms"><data xmlns=""></data></xf:instance>
         <xf:instance id="i-bibl-repeatIndex"><data xmlns="">
               <index>1</index></data></xf:instance>
         <xf:instance id="i-lookup-uri"><data xmlns="">
               <uri></uri></data></xf:instance>
      </xf:model>
   </head>
   <body>
      <h2 class="h3 mainElement">Work</h2>
      <p class="alert alert-light hint">Information about work.</p>
      <xf:trigger ref="instance('i-rec')/descendant-or-self::*:TEI[not(///*:body/*:bibl)]" class="btn btn-outline-secondary btn-sm controls add" appearance="full"><xf:label><i class="bi bi-plus"></i> Add element </xf:label><xf:insert ev:event="DOMActivate" context="instance('i-rec')//*:body/*:bibl[position() = instance('i-repeatIndex')/index]/parent::*[1]" at="." origin="instance('i-bibl-elementTemplate')/*[local-name() = instance('i-insert-elements')//*:element][1]" position="after"></xf:insert>
         <xf:setvalue ev:event="DOMActivate" ref="instance('i-insert-elements')//*:element"></xf:setvalue>
         <xf:setvalue ev:event="DOMActivate" ref="instance('i-availableElements')/*[local-name() = $elementName][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]"></xf:setvalue>
      </xf:trigger>
      <xf:group namespace="http://www.w3.org/2002/xforms" ref="instance('i-rec')//*:body/*:bibl[position() = instance('i-repeatIndex')/index]" id="bibl-root">
         <div class="accordion" id="elementGroup">
            <div class="accordion-item">
               <h2 class="accordion-header" id="heading1"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1" aria-expanded="false" aria-controls="collapse1">Add bibliographic information about work.</button></h2>
               <div id="collapse1" class="accordion-collapse collapse" aria-labelledby="heading1" data-bs-parent="#elementGroup">
                  <div class="accordion-body">
                     <div class="btn-group full-width" role="group">
                        <div class="input-group mb-3 float-end"><span class="input-group-text">Available Elements</span><xf:select1 xmlns="http://www.w3.org/2002/xforms" class="addElementsGrp" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/*:child/*:element]"><xf:label></xf:label><xf:item><xf:label ref="instance('i-bibl-schemaConstraints')/*[local-name() = 'title']/@elementLabel"></xf:label><xf:value>title</xf:value>
                              </xf:item>
                              <xf:item><xf:label ref="instance('i-bibl-schemaConstraints')/*[local-name() = 'author']/@elementLabel"></xf:label><xf:value>author</xf:value>
                              </xf:item>
                              <xf:item><xf:label ref="instance('i-bibl-schemaConstraints')/*[local-name() = 'persName']/@elementLabel"></xf:label><xf:value>persName</xf:value>
                              </xf:item>
                              <xf:item><xf:label ref="instance('i-bibl-schemaConstraints')/*[local-name() = 'textLang']/@elementLabel"></xf:label><xf:value>textLang</xf:value>
                              </xf:item>
                              <xf:action ev:event="xforms-value-changed">
                                 <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                              </xf:action>
                           </xf:select1>
                           <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls add" appearance="minimal"><xf:label><i class="bi bi-plus"></i> Add field </xf:label><xf:action ev:event="DOMActivate">
                                 <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-bibl-elementTemplate')/*[local-name() = instance('i-insert-elements')//*:element][1]" position="after"></xf:insert>
                              </xf:action>
                              <xf:setvalue ev:event="DOMActivate" ref="instance('i-insert-elements')//*:element"></xf:setvalue>
                              <xf:setvalue ev:event="DOMActivate" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]"></xf:setvalue>
                           </xf:trigger>
                        </div>
                     </div>
                     <xf:repeat xmlns="http://www.w3.org/2002/xforms" id="biblGrpRepeatLevel11" ref="./*[self::*:title | self::*:author | self::*:persName | self::*:textLang]">
                        <div xmlns="http://www.w3.org/1999/xhtml" class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                           <div class="btn-group" role="group">
                              <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline" ref=".[count(preceding-sibling::*[self::*:title | self::*:author | self::*:persName | self::*:textLang]) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                              </xf:trigger>
                              <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline" ref=".[count(preceding-sibling::*[self::*:title | self::*:author | self::*:persName | self::*:textLang]) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                    <setvalue ref="instance('i-move')/tmp" value="count(context()/preceding-sibling::*[self::*:title | self::*:author | self::*:persName | self::*:textLang][1]/preceding-sibling::*) + 1"></setvalue>
                                    <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="before"></insert>
                                    <delete ref="."></delete>
                                 </xf:action>
                              </xf:trigger>
                              <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline" ref=".[count(following-sibling::*[self::*:title | self::*:author | self::*:persName | self::*:textLang]) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                    <setvalue ref="instance('i-move')/tmp" value="count(context()/following-sibling::*[self::*:title | self::*:author | self::*:persName | self::*:textLang][1]/preceding-sibling::*) + 1"></setvalue>
                                    <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="after"></insert>
                                    <delete ref="."></delete>
                                 </xf:action>
                              </xf:trigger><span class="elementLabel"><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@elementLabel" class="elementLabel"></xf:output><a href="#" class="triggerTEITooltip"><img src="resources/images/hn/Text_Encoding_InitiativeTEI_Logo.svg" /></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@teiElement" class="TEITooltip"></xf:output><a href="#" class="triggerElementTooltip"><i class="bi bi-question-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:desc/text()" class="elementTooltip"></xf:output>
                                  <a href="#" class="triggerElementTooltip"><i class="bi bi-info-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@errorMessage" class="elementTooltip"></xf:output></span><div class="input-group float-end">
                                 <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element"><xf:label ref="@label"></xf:label><xf:value ref="@ident"></xf:value>
                                    </xf:itemset>
                                    <xf:action ev:event="xforms-value-changed">
                                       <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                    </xf:action>
                                 </xf:select1>
                                 <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/descendant-or-self::*:element]]"><xf:label><i class="bi bi-plus"></i> Add field </xf:label><xf:action ev:event="DOMActivate">
                                       <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-bibl-elementTemplate')/*[local-name() = instance('i-insert-elements')//*:element][1]" position="after"></xf:insert>
                                    </xf:action>
                                    <xf:setvalue ev:event="DOMActivate" ref="instance('i-insert-elements')//*:element"></xf:setvalue>
                                    <xf:setvalue ev:event="DOMActivate" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]"></xf:setvalue>
                                 </xf:trigger>
                                 <xf:group ref=".[not(count(@*[local-name()=instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident]) = count(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident))]">
                                    <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts/*:attDef"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                       </xf:itemset>
                                       <xf:action ev:event="xforms-value-changed">
                                          <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                       </xf:action>
                                    </xf:select1>
                                    <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]]"><xf:label><i class="bi bi-plus"></i> Add features</xf:label><xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"></xf:insert>
                                       <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="''"></xf:setvalue>
                                       <xf:setvalue ref="instance('i-availableElements')/*" value="''"></xf:setvalue>
                                    </xf:trigger>
                                 </xf:group>
                                 <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup[not(@supress='true')]]" class="btn btn-outline-secondary btn-sm controls add showLookup"><xf:label><i class="bi bi-search"></i> Lookup  </xf:label><xf:action ev:event="DOMActivate">
                                       <xf:toggle case="d1e144LookupUnHide" ev:event="DOMActivate"></xf:toggle>
                                       <xf:load show="embed" targetid="d1e144subformLookup">
                                          <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@formURL"></xf:resource>
                                       </xf:load>
                                       <xf:setvalue ref="instance('i-lookup-uri')//uri" value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@api"></xf:setvalue>
                                    </xf:action>
                                 </xf:trigger>
                                 <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup]" class="btn btn-outline-secondary btn-sm controls add"><xf:label><i class="bi bi-plus"></i> New  <xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"></xf:output></xf:label><xf:action ev:event="DOMActivate">
                                       <xf:load show="new">
                                          <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup/@formURL"></xf:resource>
                                       </xf:load>
                                    </xf:action>
                                 </xf:trigger>
                                 <xf:switch class="lookupSwitch" style="width:.5em;">
                                    <xf:case id="d1e144LookupHide" style="display:none;"></xf:case>
                                    <xf:case id="d1e144LookupUnHide">
                                       <div class="lookupDisplay">
                                          <xf:group id="d1e144subformLookup"></xf:group>
                                          <div class="text-right">
                                             <xf:trigger class="btn btn-outline-secondary btn-sm close" appearance="full"><xf:label><i class="bi bi-x"></i> Close</xf:label><xf:toggle case="d1e144LookupHide" ev:event="DOMActivate"></xf:toggle>
                                                <xf:unload targetid="d1e144subformLookup" ev:event="DOMActivate"></xf:unload>
                                                <xf:setvalue ref="instance('i-lookup-uri')//*:uri" value="''"></xf:setvalue>
                                             </xf:trigger>
                                          </div>
                                       </div>
                                    </xf:case>
                                 </xf:switch>
                              </div>
                           </div>
                        </div>
                        <div xmlns="http://www.w3.org/1999/xhtml" class="element">
                           <div class="inlineDisplay btn-toolbar justify-content-between" role="toolbar">
                              <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem]" class="elementSelect">
                                 <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem"><xf:label ref="@ident"></xf:label><xf:value ref="@ident"></xf:value>
                                 </xf:itemset>
                              </xf:select1><xf:input xmlns="http://www.w3.org/2002/xforms" class="elementInput" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues) and instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='input']]"></xf:input><xf:textarea xmlns="http://www.w3.org/2002/xforms" class="elementTextArea" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='textarea']]"></xf:textarea><xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*[local-name() != 'source']" class="attr-group">
                                 <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                    <div class="input-group"><xf:output xmlns="http://www.w3.org/2002/xforms" class="restricted" value=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted']]"></xf:output><xf:input xmlns="http://www.w3.org/2002/xforms" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList)][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal"></xf:input><xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal">
                                          <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList/*:valItem" class="attVal"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                             <xf:hint ref="@desc"></xf:hint>
                                          </xf:itemset>
                                       </xf:select1>
                                       <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                       </xf:trigger>
                                    </div>
                                 </div>
                              </xf:repeat>
                              <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@source" class="attr-group">
                                 <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                    <div class="input-group">
                                       <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="." class="attVal"><xf:label></xf:label><xf:item><xf:label>Select Source</xf:label><xf:value></xf:value>
                                          </xf:item>
                                          <xf:itemset ref="instance('i-rec')//*:text/descendant::*:bibl[*:title]"><xf:label value="*:title"></xf:label><xf:value ref="@xml:id"></xf:value>
                                          </xf:itemset>
                                       </xf:select1>
                                       <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref="."><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                       </xf:trigger>
                                    </div>
                                 </div>
                              </xf:repeat>
                           </div>
                           <xf:repeat xmlns="http://www.w3.org/2002/xforms" id="biblGrpRepeatLevel11GrpRepeatLevel1" ref="./*[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:child]" class="nested">
                              <xf:group ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]]">
                                 <div xmlns="http://www.w3.org/1999/xhtml" class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                                    <div class="btn-group" role="group">
                                       <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                       </xf:trigger>
                                       <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline" ref=".[count(preceding-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                             <setvalue ref="instance('i-move')/tmp" value="count(context()/preceding-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                             <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="before"></insert>
                                             <delete ref="."></delete>
                                          </xf:action>
                                       </xf:trigger>
                                       <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline" ref=".[count(following-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                             <setvalue ref="instance('i-move')/tmp" value="count(context()/following-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                             <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="after"></insert>
                                             <delete ref="."></delete>
                                          </xf:action>
                                       </xf:trigger><span class="elementLabel"><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@elementLabel" class="elementLabel"></xf:output><a href="#" class="triggerTEITooltip"><img src="resources/images/hn/Text_Encoding_InitiativeTEI_Logo.svg" /></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@teiElement" class="TEITooltip"></xf:output><a href="#" class="triggerElementTooltip"><i class="bi bi-question-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:desc/text()" class="elementTooltip"></xf:output>
                                           <a href="#" class="triggerElementTooltip"><i class="bi bi-info-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@errorMessage" class="elementTooltip"></xf:output></span><div class="input-group float-end">
                                          <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element"><xf:label ref="@label"></xf:label><xf:value ref="@ident"></xf:value>
                                             </xf:itemset>
                                             <xf:action ev:event="xforms-value-changed">
                                                <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                             </xf:action>
                                          </xf:select1>
                                          <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]]"><xf:label><i class="bi bi-plus"></i> Add field </xf:label><xf:action ev:event="DOMActivate">
                                                <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-bibl-elementTemplate')/*[local-name() = instance('i-insert-elements')//*:element][1]" position="after"></xf:insert>
                                             </xf:action>
                                             <xf:setvalue ev:event="DOMActivate" ref="instance('i-insert-elements')//*:element"></xf:setvalue>
                                             <xf:setvalue ev:event="DOMActivate" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]"></xf:setvalue>
                                          </xf:trigger>
                                          <xf:group ref=".[not(count(@*[local-name()=instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident]) = count(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident))]">
                                             <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts/*:attDef"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                </xf:itemset>
                                                <xf:action ev:event="xforms-value-changed">
                                                   <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                </xf:action>
                                             </xf:select1>
                                             <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]]"><xf:label><i class="bi bi-plus"></i> Add features</xf:label><xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"></xf:insert>
                                                <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="''"></xf:setvalue>
                                                <xf:setvalue ref="instance('i-availableElements')/*" value="''"></xf:setvalue>
                                             </xf:trigger>
                                          </xf:group>
                                          <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup[not(@supress='true')]]" class="btn btn-outline-secondary btn-sm controls add showLookup"><xf:label><i class="bi bi-search"></i> Lookup  </xf:label><xf:action ev:event="DOMActivate">
                                                <xf:toggle case="biblGrpRepeatLevel11GrpRepeatLevel1LookupUnHide" ev:event="DOMActivate"></xf:toggle>
                                                <xf:load show="embed" targetid="biblGrpRepeatLevel11GrpRepeatLevel1subformLookup">
                                                   <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@formURL"></xf:resource>
                                                </xf:load>
                                                <xf:setvalue ref="instance('i-lookup-uri')//uri" value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@api"></xf:setvalue>
                                             </xf:action>
                                          </xf:trigger>
                                          <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup]" class="btn btn-outline-secondary btn-sm controls add"><xf:label><i class="bi bi-plus"></i> New  <xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"></xf:output></xf:label><xf:action ev:event="DOMActivate">
                                                <xf:load show="new">
                                                   <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup/@formURL"></xf:resource>
                                                </xf:load>
                                             </xf:action>
                                          </xf:trigger>
                                          <xf:switch class="lookupSwitch" style="width:.5em;">
                                             <xf:case id="biblGrpRepeatLevel11GrpRepeatLevel1LookupHide" style="display:none;"></xf:case>
                                             <xf:case id="biblGrpRepeatLevel11GrpRepeatLevel1LookupUnHide">
                                                <div class="lookupDisplay">
                                                   <xf:group id="biblGrpRepeatLevel11GrpRepeatLevel1subformLookup"></xf:group>
                                                   <div class="text-right">
                                                      <xf:trigger class="btn btn-outline-secondary btn-sm close" appearance="full"><xf:label><i class="bi bi-x"></i> Close</xf:label><xf:toggle case="biblGrpRepeatLevel11GrpRepeatLevel1LookupHide" ev:event="DOMActivate"></xf:toggle>
                                                         <xf:unload targetid="biblGrpRepeatLevel11GrpRepeatLevel1subformLookup" ev:event="DOMActivate"></xf:unload>
                                                         <xf:setvalue ref="instance('i-lookup-uri')//*:uri" value="''"></xf:setvalue>
                                                      </xf:trigger>
                                                   </div>
                                                </div>
                                             </xf:case>
                                          </xf:switch>
                                       </div>
                                    </div>
                                 </div>
                                 <div xmlns="http://www.w3.org/1999/xhtml" class="element">
                                    <div class="inlineDisplay btn-toolbar justify-content-between" role="toolbar">
                                       <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem]" class="elementSelect">
                                          <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem"><xf:label ref="@ident"></xf:label><xf:value ref="@ident"></xf:value>
                                          </xf:itemset>
                                       </xf:select1><xf:input xmlns="http://www.w3.org/2002/xforms" class="elementInput" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues) and instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='input']]"></xf:input><xf:textarea xmlns="http://www.w3.org/2002/xforms" class="elementTextArea" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='textarea']]"></xf:textarea><xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*[local-name() != 'source']" class="attr-group">
                                          <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                             <div class="input-group"><xf:output xmlns="http://www.w3.org/2002/xforms" class="restricted" value=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted']]"></xf:output><xf:input xmlns="http://www.w3.org/2002/xforms" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList)][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal"></xf:input><xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal">
                                                   <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList/*:valItem" class="attVal"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                      <xf:hint ref="@desc"></xf:hint>
                                                   </xf:itemset>
                                                </xf:select1>
                                                <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                </xf:trigger>
                                             </div>
                                          </div>
                                       </xf:repeat>
                                       <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@source" class="attr-group">
                                          <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                             <div class="input-group">
                                                <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="." class="attVal"><xf:label></xf:label><xf:item><xf:label>Select Source</xf:label><xf:value></xf:value>
                                                   </xf:item>
                                                   <xf:itemset ref="instance('i-rec')//*:text/descendant::*:bibl[*:title]"><xf:label value="*:title"></xf:label><xf:value ref="@xml:id"></xf:value>
                                                   </xf:itemset>
                                                </xf:select1>
                                                <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref="."><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                </xf:trigger>
                                             </div>
                                          </div>
                                       </xf:repeat>
                                    </div>
                                    <xf:repeat id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2" ref="./*[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:child]">
                                       <div class="nested">
                                          <xf:group xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]]">
                                             <div xmlns="http://www.w3.org/1999/xhtml" class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                                                <div class="btn-group" role="group">
                                                   <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                   </xf:trigger>
                                                   <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline" ref=".[count(preceding-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                         <setvalue ref="instance('i-move')/tmp" value="count(context()/preceding-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                         <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="before"></insert>
                                                         <delete ref="."></delete>
                                                      </xf:action>
                                                   </xf:trigger>
                                                   <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline" ref=".[count(following-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                         <setvalue ref="instance('i-move')/tmp" value="count(context()/following-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                         <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="after"></insert>
                                                         <delete ref="."></delete>
                                                      </xf:action>
                                                   </xf:trigger><span class="elementLabel"><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@elementLabel" class="elementLabel"></xf:output><a href="#" class="triggerTEITooltip"><img src="resources/images/hn/Text_Encoding_InitiativeTEI_Logo.svg" /></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@teiElement" class="TEITooltip"></xf:output><a href="#" class="triggerElementTooltip"><i class="bi bi-question-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:desc/text()" class="elementTooltip"></xf:output>
                                                       <a href="#" class="triggerElementTooltip"><i class="bi bi-info-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@errorMessage" class="elementTooltip"></xf:output></span><div class="input-group float-end">
                                                      <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element"><xf:label ref="@label"></xf:label><xf:value ref="@ident"></xf:value>
                                                         </xf:itemset>
                                                         <xf:action ev:event="xforms-value-changed">
                                                            <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                         </xf:action>
                                                      </xf:select1>
                                                      <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]]"><xf:label><i class="bi bi-plus"></i> Add field </xf:label><xf:action ev:event="DOMActivate">
                                                            <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-bibl-elementTemplate')/*[local-name() = instance('i-insert-elements')//*:element][1]" position="after"></xf:insert>
                                                         </xf:action>
                                                         <xf:setvalue ev:event="DOMActivate" ref="instance('i-insert-elements')//*:element"></xf:setvalue>
                                                         <xf:setvalue ev:event="DOMActivate" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]"></xf:setvalue>
                                                      </xf:trigger>
                                                      <xf:group ref=".[not(count(@*[local-name()=instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident]) = count(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident))]">
                                                         <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts/*:attDef"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                            </xf:itemset>
                                                            <xf:action ev:event="xforms-value-changed">
                                                               <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                            </xf:action>
                                                         </xf:select1>
                                                         <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]]"><xf:label><i class="bi bi-plus"></i> Add features</xf:label><xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"></xf:insert>
                                                            <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="''"></xf:setvalue>
                                                            <xf:setvalue ref="instance('i-availableElements')/*" value="''"></xf:setvalue>
                                                         </xf:trigger>
                                                      </xf:group>
                                                      <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup[not(@supress='true')]]" class="btn btn-outline-secondary btn-sm controls add showLookup"><xf:label><i class="bi bi-search"></i> Lookup  </xf:label><xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2LookupUnHide" ev:event="DOMActivate"></xf:toggle>
                                                            <xf:load show="embed" targetid="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2subformLookup">
                                                               <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@formURL"></xf:resource>
                                                            </xf:load>
                                                            <xf:setvalue ref="instance('i-lookup-uri')//uri" value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@api"></xf:setvalue>
                                                         </xf:action>
                                                      </xf:trigger>
                                                      <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup]" class="btn btn-outline-secondary btn-sm controls add"><xf:label><i class="bi bi-plus"></i> New  <xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"></xf:output></xf:label><xf:action ev:event="DOMActivate">
                                                            <xf:load show="new">
                                                               <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup/@formURL"></xf:resource>
                                                            </xf:load>
                                                         </xf:action>
                                                      </xf:trigger>
                                                      <xf:switch class="lookupSwitch" style="width:.5em;">
                                                         <xf:case id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2LookupHide" style="display:none;"></xf:case>
                                                         <xf:case id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2LookupUnHide">
                                                            <div class="lookupDisplay">
                                                               <xf:group id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2subformLookup"></xf:group>
                                                               <div class="text-right">
                                                                  <xf:trigger class="btn btn-outline-secondary btn-sm close" appearance="full"><xf:label><i class="bi bi-x"></i> Close</xf:label><xf:toggle case="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2LookupHide" ev:event="DOMActivate"></xf:toggle>
                                                                     <xf:unload targetid="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2subformLookup" ev:event="DOMActivate"></xf:unload>
                                                                     <xf:setvalue ref="instance('i-lookup-uri')//*:uri" value="''"></xf:setvalue>
                                                                  </xf:trigger>
                                                               </div>
                                                            </div>
                                                         </xf:case>
                                                      </xf:switch>
                                                   </div>
                                                </div>
                                             </div>
                                             <div xmlns="http://www.w3.org/1999/xhtml" class="element">
                                                <div class="inlineDisplay btn-toolbar justify-content-between" role="toolbar">
                                                   <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem]" class="elementSelect">
                                                      <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem"><xf:label ref="@ident"></xf:label><xf:value ref="@ident"></xf:value>
                                                      </xf:itemset>
                                                   </xf:select1><xf:input xmlns="http://www.w3.org/2002/xforms" class="elementInput" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues) and instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='input']]"></xf:input><xf:textarea xmlns="http://www.w3.org/2002/xforms" class="elementTextArea" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='textarea']]"></xf:textarea><xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*[local-name() != 'source']" class="attr-group">
                                                      <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                         <div class="input-group"><xf:output xmlns="http://www.w3.org/2002/xforms" class="restricted" value=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted']]"></xf:output><xf:input xmlns="http://www.w3.org/2002/xforms" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList)][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal"></xf:input><xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal">
                                                               <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList/*:valItem" class="attVal"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                  <xf:hint ref="@desc"></xf:hint>
                                                               </xf:itemset>
                                                            </xf:select1>
                                                            <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                            </xf:trigger>
                                                         </div>
                                                      </div>
                                                   </xf:repeat>
                                                   <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@source" class="attr-group">
                                                      <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                         <div class="input-group">
                                                            <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="." class="attVal"><xf:label></xf:label><xf:item><xf:label>Select Source</xf:label><xf:value></xf:value>
                                                               </xf:item>
                                                               <xf:itemset ref="instance('i-rec')//*:text/descendant::*:bibl[*:title]"><xf:label value="*:title"></xf:label><xf:value ref="@xml:id"></xf:value>
                                                               </xf:itemset>
                                                            </xf:select1>
                                                            <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref="."><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                            </xf:trigger>
                                                         </div>
                                                      </div>
                                                   </xf:repeat>
                                                </div>
                                                <xf:repeat id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3" ref="./*[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:child]">
                                                   <div class="nested">
                                                      <xf:group xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]]">
                                                         <div xmlns="http://www.w3.org/1999/xhtml" class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                                                            <div class="btn-group" role="group">
                                                               <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                               </xf:trigger>
                                                               <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline" ref=".[count(preceding-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                     <setvalue ref="instance('i-move')/tmp" value="count(context()/preceding-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                     <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="before"></insert>
                                                                     <delete ref="."></delete>
                                                                  </xf:action>
                                                               </xf:trigger>
                                                               <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline" ref=".[count(following-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                     <setvalue ref="instance('i-move')/tmp" value="count(context()/following-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                     <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="after"></insert>
                                                                     <delete ref="."></delete>
                                                                  </xf:action>
                                                               </xf:trigger><span class="elementLabel"><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@elementLabel" class="elementLabel"></xf:output><a href="#" class="triggerTEITooltip"><img src="resources/images/hn/Text_Encoding_InitiativeTEI_Logo.svg" /></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@teiElement" class="TEITooltip"></xf:output><a href="#" class="triggerElementTooltip"><i class="bi bi-question-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:desc/text()" class="elementTooltip"></xf:output>
                                                                   <a href="#" class="triggerElementTooltip"><i class="bi bi-info-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@errorMessage" class="elementTooltip"></xf:output></span><div class="input-group float-end">
                                                                  <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element"><xf:label ref="@label"></xf:label><xf:value ref="@ident"></xf:value>
                                                                     </xf:itemset>
                                                                     <xf:action ev:event="xforms-value-changed">
                                                                        <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                     </xf:action>
                                                                  </xf:select1>
                                                                  <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]]"><xf:label><i class="bi bi-plus"></i> Add field </xf:label><xf:action ev:event="DOMActivate">
                                                                        <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-bibl-elementTemplate')/*[local-name() = instance('i-insert-elements')//*:element][1]" position="after"></xf:insert>
                                                                     </xf:action>
                                                                     <xf:setvalue ev:event="DOMActivate" ref="instance('i-insert-elements')//*:element"></xf:setvalue>
                                                                     <xf:setvalue ev:event="DOMActivate" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]"></xf:setvalue>
                                                                  </xf:trigger>
                                                                  <xf:group ref=".[not(count(@*[local-name()=instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident]) = count(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident))]">
                                                                     <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts/*:attDef"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                        </xf:itemset>
                                                                        <xf:action ev:event="xforms-value-changed">
                                                                           <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                        </xf:action>
                                                                     </xf:select1>
                                                                     <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]]"><xf:label><i class="bi bi-plus"></i> Add features</xf:label><xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"></xf:insert>
                                                                        <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="''"></xf:setvalue>
                                                                        <xf:setvalue ref="instance('i-availableElements')/*" value="''"></xf:setvalue>
                                                                     </xf:trigger>
                                                                  </xf:group>
                                                                  <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup[not(@supress='true')]]" class="btn btn-outline-secondary btn-sm controls add showLookup"><xf:label><i class="bi bi-search"></i> Lookup  </xf:label><xf:action ev:event="DOMActivate">
                                                                        <xf:toggle case="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3LookupUnHide" ev:event="DOMActivate"></xf:toggle>
                                                                        <xf:load show="embed" targetid="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3subformLookup">
                                                                           <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@formURL"></xf:resource>
                                                                        </xf:load>
                                                                        <xf:setvalue ref="instance('i-lookup-uri')//uri" value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@api"></xf:setvalue>
                                                                     </xf:action>
                                                                  </xf:trigger>
                                                                  <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup]" class="btn btn-outline-secondary btn-sm controls add"><xf:label><i class="bi bi-plus"></i> New  <xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"></xf:output></xf:label><xf:action ev:event="DOMActivate">
                                                                        <xf:load show="new">
                                                                           <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup/@formURL"></xf:resource>
                                                                        </xf:load>
                                                                     </xf:action>
                                                                  </xf:trigger>
                                                                  <xf:switch class="lookupSwitch" style="width:.5em;">
                                                                     <xf:case id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3LookupHide" style="display:none;"></xf:case>
                                                                     <xf:case id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3LookupUnHide">
                                                                        <div class="lookupDisplay">
                                                                           <xf:group id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3subformLookup"></xf:group>
                                                                           <div class="text-right">
                                                                              <xf:trigger class="btn btn-outline-secondary btn-sm close" appearance="full"><xf:label><i class="bi bi-x"></i> Close</xf:label><xf:toggle case="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3LookupHide" ev:event="DOMActivate"></xf:toggle>
                                                                                 <xf:unload targetid="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3subformLookup" ev:event="DOMActivate"></xf:unload>
                                                                                 <xf:setvalue ref="instance('i-lookup-uri')//*:uri" value="''"></xf:setvalue>
                                                                              </xf:trigger>
                                                                           </div>
                                                                        </div>
                                                                     </xf:case>
                                                                  </xf:switch>
                                                               </div>
                                                            </div>
                                                         </div>
                                                         <div xmlns="http://www.w3.org/1999/xhtml" class="element">
                                                            <div class="inlineDisplay btn-toolbar justify-content-between" role="toolbar">
                                                               <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem]" class="elementSelect">
                                                                  <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem"><xf:label ref="@ident"></xf:label><xf:value ref="@ident"></xf:value>
                                                                  </xf:itemset>
                                                               </xf:select1><xf:input xmlns="http://www.w3.org/2002/xforms" class="elementInput" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues) and instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='input']]"></xf:input><xf:textarea xmlns="http://www.w3.org/2002/xforms" class="elementTextArea" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='textarea']]"></xf:textarea><xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*[local-name() != 'source']" class="attr-group">
                                                                  <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                     <div class="input-group"><xf:output xmlns="http://www.w3.org/2002/xforms" class="restricted" value=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted']]"></xf:output><xf:input xmlns="http://www.w3.org/2002/xforms" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList)][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal"></xf:input><xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal">
                                                                           <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList/*:valItem" class="attVal"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                              <xf:hint ref="@desc"></xf:hint>
                                                                           </xf:itemset>
                                                                        </xf:select1>
                                                                        <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                        </xf:trigger>
                                                                     </div>
                                                                  </div>
                                                               </xf:repeat>
                                                               <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@source" class="attr-group">
                                                                  <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                     <div class="input-group">
                                                                        <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="." class="attVal"><xf:label></xf:label><xf:item><xf:label>Select Source</xf:label><xf:value></xf:value>
                                                                           </xf:item>
                                                                           <xf:itemset ref="instance('i-rec')//*:text/descendant::*:bibl[*:title]"><xf:label value="*:title"></xf:label><xf:value ref="@xml:id"></xf:value>
                                                                           </xf:itemset>
                                                                        </xf:select1>
                                                                        <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref="."><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                        </xf:trigger>
                                                                     </div>
                                                                  </div>
                                                               </xf:repeat>
                                                            </div>
                                                            <xf:repeat id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4" ref="./*[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:child]">
                                                               <div class="nested">
                                                                  <xf:group xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]]">
                                                                     <div xmlns="http://www.w3.org/1999/xhtml" class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                                                                        <div class="btn-group" role="group">
                                                                           <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                           </xf:trigger>
                                                                           <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline" ref=".[count(preceding-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                                 <setvalue ref="instance('i-move')/tmp" value="count(context()/preceding-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                                 <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="before"></insert>
                                                                                 <delete ref="."></delete>
                                                                              </xf:action>
                                                                           </xf:trigger>
                                                                           <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline" ref=".[count(following-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                                 <setvalue ref="instance('i-move')/tmp" value="count(context()/following-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                                 <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="after"></insert>
                                                                                 <delete ref="."></delete>
                                                                              </xf:action>
                                                                           </xf:trigger><span class="elementLabel"><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@elementLabel" class="elementLabel"></xf:output><a href="#" class="triggerTEITooltip"><img src="resources/images/hn/Text_Encoding_InitiativeTEI_Logo.svg" /></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@teiElement" class="TEITooltip"></xf:output><a href="#" class="triggerElementTooltip"><i class="bi bi-question-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:desc/text()" class="elementTooltip"></xf:output>
                                                                               <a href="#" class="triggerElementTooltip"><i class="bi bi-info-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@errorMessage" class="elementTooltip"></xf:output></span><div class="input-group float-end">
                                                                              <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element"><xf:label ref="@label"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                 </xf:itemset>
                                                                                 <xf:action ev:event="xforms-value-changed">
                                                                                    <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                                 </xf:action>
                                                                              </xf:select1>
                                                                              <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]]"><xf:label><i class="bi bi-plus"></i> Add field </xf:label><xf:action ev:event="DOMActivate">
                                                                                    <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-bibl-elementTemplate')/*[local-name() = instance('i-insert-elements')//*:element][1]" position="after"></xf:insert>
                                                                                 </xf:action>
                                                                                 <xf:setvalue ev:event="DOMActivate" ref="instance('i-insert-elements')//*:element"></xf:setvalue>
                                                                                 <xf:setvalue ev:event="DOMActivate" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]"></xf:setvalue>
                                                                              </xf:trigger>
                                                                              <xf:group ref=".[not(count(@*[local-name()=instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident]) = count(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident))]">
                                                                                 <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts/*:attDef"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                    </xf:itemset>
                                                                                    <xf:action ev:event="xforms-value-changed">
                                                                                       <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                                    </xf:action>
                                                                                 </xf:select1>
                                                                                 <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]]"><xf:label><i class="bi bi-plus"></i> Add features</xf:label><xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"></xf:insert>
                                                                                    <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="''"></xf:setvalue>
                                                                                    <xf:setvalue ref="instance('i-availableElements')/*" value="''"></xf:setvalue>
                                                                                 </xf:trigger>
                                                                              </xf:group>
                                                                              <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup[not(@supress='true')]]" class="btn btn-outline-secondary btn-sm controls add showLookup"><xf:label><i class="bi bi-search"></i> Lookup  </xf:label><xf:action ev:event="DOMActivate">
                                                                                    <xf:toggle case="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4LookupUnHide" ev:event="DOMActivate"></xf:toggle>
                                                                                    <xf:load show="embed" targetid="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4subformLookup">
                                                                                       <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@formURL"></xf:resource>
                                                                                    </xf:load>
                                                                                    <xf:setvalue ref="instance('i-lookup-uri')//uri" value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@api"></xf:setvalue>
                                                                                 </xf:action>
                                                                              </xf:trigger>
                                                                              <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup]" class="btn btn-outline-secondary btn-sm controls add"><xf:label><i class="bi bi-plus"></i> New  <xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"></xf:output></xf:label><xf:action ev:event="DOMActivate">
                                                                                    <xf:load show="new">
                                                                                       <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup/@formURL"></xf:resource>
                                                                                    </xf:load>
                                                                                 </xf:action>
                                                                              </xf:trigger>
                                                                              <xf:switch class="lookupSwitch" style="width:.5em;">
                                                                                 <xf:case id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4LookupHide" style="display:none;"></xf:case>
                                                                                 <xf:case id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4LookupUnHide">
                                                                                    <div class="lookupDisplay">
                                                                                       <xf:group id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4subformLookup"></xf:group>
                                                                                       <div class="text-right">
                                                                                          <xf:trigger class="btn btn-outline-secondary btn-sm close" appearance="full"><xf:label><i class="bi bi-x"></i> Close</xf:label><xf:toggle case="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4LookupHide" ev:event="DOMActivate"></xf:toggle>
                                                                                             <xf:unload targetid="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4subformLookup" ev:event="DOMActivate"></xf:unload>
                                                                                             <xf:setvalue ref="instance('i-lookup-uri')//*:uri" value="''"></xf:setvalue>
                                                                                          </xf:trigger>
                                                                                       </div>
                                                                                    </div>
                                                                                 </xf:case>
                                                                              </xf:switch>
                                                                           </div>
                                                                        </div>
                                                                     </div>
                                                                     <div xmlns="http://www.w3.org/1999/xhtml" class="element">
                                                                        <div class="inlineDisplay btn-toolbar justify-content-between" role="toolbar">
                                                                           <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem]" class="elementSelect">
                                                                              <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem"><xf:label ref="@ident"></xf:label><xf:value ref="@ident"></xf:value>
                                                                              </xf:itemset>
                                                                           </xf:select1><xf:input xmlns="http://www.w3.org/2002/xforms" class="elementInput" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues) and instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='input']]"></xf:input><xf:textarea xmlns="http://www.w3.org/2002/xforms" class="elementTextArea" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='textarea']]"></xf:textarea><xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*[local-name() != 'source']" class="attr-group">
                                                                              <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                                 <div class="input-group"><xf:output xmlns="http://www.w3.org/2002/xforms" class="restricted" value=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted']]"></xf:output><xf:input xmlns="http://www.w3.org/2002/xforms" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList)][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal"></xf:input><xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal">
                                                                                       <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList/*:valItem" class="attVal"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                          <xf:hint ref="@desc"></xf:hint>
                                                                                       </xf:itemset>
                                                                                    </xf:select1>
                                                                                    <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                    </xf:trigger>
                                                                                 </div>
                                                                              </div>
                                                                           </xf:repeat>
                                                                           <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@source" class="attr-group">
                                                                              <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                                 <div class="input-group">
                                                                                    <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="." class="attVal"><xf:label></xf:label><xf:item><xf:label>Select Source</xf:label><xf:value></xf:value>
                                                                                       </xf:item>
                                                                                       <xf:itemset ref="instance('i-rec')//*:text/descendant::*:bibl[*:title]"><xf:label value="*:title"></xf:label><xf:value ref="@xml:id"></xf:value>
                                                                                       </xf:itemset>
                                                                                    </xf:select1>
                                                                                    <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref="."><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                    </xf:trigger>
                                                                                 </div>
                                                                              </div>
                                                                           </xf:repeat>
                                                                        </div>
                                                                        <xf:repeat id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5" ref="./*[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:child]">
                                                                           <div class="nested">
                                                                              <xf:group xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]]">
                                                                                 <div xmlns="http://www.w3.org/1999/xhtml" class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                                                                                    <div class="btn-group" role="group">
                                                                                       <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                       </xf:trigger>
                                                                                       <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline" ref=".[count(preceding-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                                             <setvalue ref="instance('i-move')/tmp" value="count(context()/preceding-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                                             <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="before"></insert>
                                                                                             <delete ref="."></delete>
                                                                                          </xf:action>
                                                                                       </xf:trigger>
                                                                                       <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline" ref=".[count(following-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                                             <setvalue ref="instance('i-move')/tmp" value="count(context()/following-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                                             <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="after"></insert>
                                                                                             <delete ref="."></delete>
                                                                                          </xf:action>
                                                                                       </xf:trigger><span class="elementLabel"><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@elementLabel" class="elementLabel"></xf:output><a href="#" class="triggerTEITooltip"><img src="resources/images/hn/Text_Encoding_InitiativeTEI_Logo.svg" /></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@teiElement" class="TEITooltip"></xf:output><a href="#" class="triggerElementTooltip"><i class="bi bi-question-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:desc/text()" class="elementTooltip"></xf:output>
                                                                                           <a href="#" class="triggerElementTooltip"><i class="bi bi-info-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@errorMessage" class="elementTooltip"></xf:output></span><div class="input-group float-end">
                                                                                          <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element"><xf:label ref="@label"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                             </xf:itemset>
                                                                                             <xf:action ev:event="xforms-value-changed">
                                                                                                <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                                             </xf:action>
                                                                                          </xf:select1>
                                                                                          <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]]"><xf:label><i class="bi bi-plus"></i> Add field </xf:label><xf:action ev:event="DOMActivate">
                                                                                                <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-bibl-elementTemplate')/*[local-name() = instance('i-insert-elements')//*:element][1]" position="after"></xf:insert>
                                                                                             </xf:action>
                                                                                             <xf:setvalue ev:event="DOMActivate" ref="instance('i-insert-elements')//*:element"></xf:setvalue>
                                                                                             <xf:setvalue ev:event="DOMActivate" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]"></xf:setvalue>
                                                                                          </xf:trigger>
                                                                                          <xf:group ref=".[not(count(@*[local-name()=instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident]) = count(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident))]">
                                                                                             <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts/*:attDef"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                </xf:itemset>
                                                                                                <xf:action ev:event="xforms-value-changed">
                                                                                                   <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                                                </xf:action>
                                                                                             </xf:select1>
                                                                                             <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]]"><xf:label><i class="bi bi-plus"></i> Add features</xf:label><xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"></xf:insert>
                                                                                                <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="''"></xf:setvalue>
                                                                                                <xf:setvalue ref="instance('i-availableElements')/*" value="''"></xf:setvalue>
                                                                                             </xf:trigger>
                                                                                          </xf:group>
                                                                                          <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup[not(@supress='true')]]" class="btn btn-outline-secondary btn-sm controls add showLookup"><xf:label><i class="bi bi-search"></i> Lookup  </xf:label><xf:action ev:event="DOMActivate">
                                                                                                <xf:toggle case="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5LookupUnHide" ev:event="DOMActivate"></xf:toggle>
                                                                                                <xf:load show="embed" targetid="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5subformLookup">
                                                                                                   <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@formURL"></xf:resource>
                                                                                                </xf:load>
                                                                                                <xf:setvalue ref="instance('i-lookup-uri')//uri" value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@api"></xf:setvalue>
                                                                                             </xf:action>
                                                                                          </xf:trigger>
                                                                                          <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup]" class="btn btn-outline-secondary btn-sm controls add"><xf:label><i class="bi bi-plus"></i> New  <xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"></xf:output></xf:label><xf:action ev:event="DOMActivate">
                                                                                                <xf:load show="new">
                                                                                                   <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup/@formURL"></xf:resource>
                                                                                                </xf:load>
                                                                                             </xf:action>
                                                                                          </xf:trigger>
                                                                                          <xf:switch class="lookupSwitch" style="width:.5em;">
                                                                                             <xf:case id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5LookupHide" style="display:none;"></xf:case>
                                                                                             <xf:case id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5LookupUnHide">
                                                                                                <div class="lookupDisplay">
                                                                                                   <xf:group id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5subformLookup"></xf:group>
                                                                                                   <div class="text-right">
                                                                                                      <xf:trigger class="btn btn-outline-secondary btn-sm close" appearance="full"><xf:label><i class="bi bi-x"></i> Close</xf:label><xf:toggle case="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5LookupHide" ev:event="DOMActivate"></xf:toggle>
                                                                                                         <xf:unload targetid="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5subformLookup" ev:event="DOMActivate"></xf:unload>
                                                                                                         <xf:setvalue ref="instance('i-lookup-uri')//*:uri" value="''"></xf:setvalue>
                                                                                                      </xf:trigger>
                                                                                                   </div>
                                                                                                </div>
                                                                                             </xf:case>
                                                                                          </xf:switch>
                                                                                       </div>
                                                                                    </div>
                                                                                 </div>
                                                                                 <div xmlns="http://www.w3.org/1999/xhtml" class="element">
                                                                                    <div class="inlineDisplay btn-toolbar justify-content-between" role="toolbar">
                                                                                       <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem]" class="elementSelect">
                                                                                          <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem"><xf:label ref="@ident"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                          </xf:itemset>
                                                                                       </xf:select1><xf:input xmlns="http://www.w3.org/2002/xforms" class="elementInput" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues) and instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='input']]"></xf:input><xf:textarea xmlns="http://www.w3.org/2002/xforms" class="elementTextArea" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='textarea']]"></xf:textarea><xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*[local-name() != 'source']" class="attr-group">
                                                                                          <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                                             <div class="input-group"><xf:output xmlns="http://www.w3.org/2002/xforms" class="restricted" value=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted']]"></xf:output><xf:input xmlns="http://www.w3.org/2002/xforms" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList)][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal"></xf:input><xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal">
                                                                                                   <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList/*:valItem" class="attVal"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                      <xf:hint ref="@desc"></xf:hint>
                                                                                                   </xf:itemset>
                                                                                                </xf:select1>
                                                                                                <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                </xf:trigger>
                                                                                             </div>
                                                                                          </div>
                                                                                       </xf:repeat>
                                                                                       <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@source" class="attr-group">
                                                                                          <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                                             <div class="input-group">
                                                                                                <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="." class="attVal"><xf:label></xf:label><xf:item><xf:label>Select Source</xf:label><xf:value></xf:value>
                                                                                                   </xf:item>
                                                                                                   <xf:itemset ref="instance('i-rec')//*:text/descendant::*:bibl[*:title]"><xf:label value="*:title"></xf:label><xf:value ref="@xml:id"></xf:value>
                                                                                                   </xf:itemset>
                                                                                                </xf:select1>
                                                                                                <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref="."><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                </xf:trigger>
                                                                                             </div>
                                                                                          </div>
                                                                                       </xf:repeat>
                                                                                    </div>
                                                                                    <xf:repeat id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6" ref="./*[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:child]">
                                                                                       <div class="nested">
                                                                                          <xf:group xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]]">
                                                                                             <div xmlns="http://www.w3.org/1999/xhtml" class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                                                                                                <div class="btn-group" role="group">
                                                                                                   <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                   </xf:trigger>
                                                                                                   <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline" ref=".[count(preceding-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                                                         <setvalue ref="instance('i-move')/tmp" value="count(context()/preceding-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                                                         <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="before"></insert>
                                                                                                         <delete ref="."></delete>
                                                                                                      </xf:action>
                                                                                                   </xf:trigger>
                                                                                                   <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline" ref=".[count(following-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                                                         <setvalue ref="instance('i-move')/tmp" value="count(context()/following-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                                                         <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="after"></insert>
                                                                                                         <delete ref="."></delete>
                                                                                                      </xf:action>
                                                                                                   </xf:trigger><span class="elementLabel"><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@elementLabel" class="elementLabel"></xf:output><a href="#" class="triggerTEITooltip"><img src="resources/images/hn/Text_Encoding_InitiativeTEI_Logo.svg" /></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@teiElement" class="TEITooltip"></xf:output><a href="#" class="triggerElementTooltip"><i class="bi bi-question-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:desc/text()" class="elementTooltip"></xf:output>
                                                                                                       <a href="#" class="triggerElementTooltip"><i class="bi bi-info-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@errorMessage" class="elementTooltip"></xf:output></span><div class="input-group float-end">
                                                                                                      <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element"><xf:label ref="@label"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                         </xf:itemset>
                                                                                                         <xf:action ev:event="xforms-value-changed">
                                                                                                            <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                                                         </xf:action>
                                                                                                      </xf:select1>
                                                                                                      <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]]"><xf:label><i class="bi bi-plus"></i> Add field </xf:label><xf:action ev:event="DOMActivate">
                                                                                                            <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-bibl-elementTemplate')/*[local-name() = instance('i-insert-elements')//*:element][1]" position="after"></xf:insert>
                                                                                                         </xf:action>
                                                                                                         <xf:setvalue ev:event="DOMActivate" ref="instance('i-insert-elements')//*:element"></xf:setvalue>
                                                                                                         <xf:setvalue ev:event="DOMActivate" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]"></xf:setvalue>
                                                                                                      </xf:trigger>
                                                                                                      <xf:group ref=".[not(count(@*[local-name()=instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident]) = count(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident))]">
                                                                                                         <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts/*:attDef"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                            </xf:itemset>
                                                                                                            <xf:action ev:event="xforms-value-changed">
                                                                                                               <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                                                            </xf:action>
                                                                                                         </xf:select1>
                                                                                                         <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]]"><xf:label><i class="bi bi-plus"></i> Add features</xf:label><xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"></xf:insert>
                                                                                                            <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="''"></xf:setvalue>
                                                                                                            <xf:setvalue ref="instance('i-availableElements')/*" value="''"></xf:setvalue>
                                                                                                         </xf:trigger>
                                                                                                      </xf:group>
                                                                                                      <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup[not(@supress='true')]]" class="btn btn-outline-secondary btn-sm controls add showLookup"><xf:label><i class="bi bi-search"></i> Lookup  </xf:label><xf:action ev:event="DOMActivate">
                                                                                                            <xf:toggle case="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6LookupUnHide" ev:event="DOMActivate"></xf:toggle>
                                                                                                            <xf:load show="embed" targetid="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6subformLookup">
                                                                                                               <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@formURL"></xf:resource>
                                                                                                            </xf:load>
                                                                                                            <xf:setvalue ref="instance('i-lookup-uri')//uri" value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@api"></xf:setvalue>
                                                                                                         </xf:action>
                                                                                                      </xf:trigger>
                                                                                                      <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup]" class="btn btn-outline-secondary btn-sm controls add"><xf:label><i class="bi bi-plus"></i> New  <xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"></xf:output></xf:label><xf:action ev:event="DOMActivate">
                                                                                                            <xf:load show="new">
                                                                                                               <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup/@formURL"></xf:resource>
                                                                                                            </xf:load>
                                                                                                         </xf:action>
                                                                                                      </xf:trigger>
                                                                                                      <xf:switch class="lookupSwitch" style="width:.5em;">
                                                                                                         <xf:case id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6LookupHide" style="display:none;"></xf:case>
                                                                                                         <xf:case id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6LookupUnHide">
                                                                                                            <div class="lookupDisplay">
                                                                                                               <xf:group id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6subformLookup"></xf:group>
                                                                                                               <div class="text-right">
                                                                                                                  <xf:trigger class="btn btn-outline-secondary btn-sm close" appearance="full"><xf:label><i class="bi bi-x"></i> Close</xf:label><xf:toggle case="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6LookupHide" ev:event="DOMActivate"></xf:toggle>
                                                                                                                     <xf:unload targetid="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6subformLookup" ev:event="DOMActivate"></xf:unload>
                                                                                                                     <xf:setvalue ref="instance('i-lookup-uri')//*:uri" value="''"></xf:setvalue>
                                                                                                                  </xf:trigger>
                                                                                                               </div>
                                                                                                            </div>
                                                                                                         </xf:case>
                                                                                                      </xf:switch>
                                                                                                   </div>
                                                                                                </div>
                                                                                             </div>
                                                                                             <div xmlns="http://www.w3.org/1999/xhtml" class="element">
                                                                                                <div class="inlineDisplay btn-toolbar justify-content-between" role="toolbar">
                                                                                                   <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem]" class="elementSelect">
                                                                                                      <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem"><xf:label ref="@ident"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                      </xf:itemset>
                                                                                                   </xf:select1><xf:input xmlns="http://www.w3.org/2002/xforms" class="elementInput" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues) and instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='input']]"></xf:input><xf:textarea xmlns="http://www.w3.org/2002/xforms" class="elementTextArea" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='textarea']]"></xf:textarea><xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*[local-name() != 'source']" class="attr-group">
                                                                                                      <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                                                         <div class="input-group"><xf:output xmlns="http://www.w3.org/2002/xforms" class="restricted" value=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted']]"></xf:output><xf:input xmlns="http://www.w3.org/2002/xforms" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList)][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal"></xf:input><xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal">
                                                                                                               <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList/*:valItem" class="attVal"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                                  <xf:hint ref="@desc"></xf:hint>
                                                                                                               </xf:itemset>
                                                                                                            </xf:select1>
                                                                                                            <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                            </xf:trigger>
                                                                                                         </div>
                                                                                                      </div>
                                                                                                   </xf:repeat>
                                                                                                   <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@source" class="attr-group">
                                                                                                      <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                                                         <div class="input-group">
                                                                                                            <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="." class="attVal"><xf:label></xf:label><xf:item><xf:label>Select Source</xf:label><xf:value></xf:value>
                                                                                                               </xf:item>
                                                                                                               <xf:itemset ref="instance('i-rec')//*:text/descendant::*:bibl[*:title]"><xf:label value="*:title"></xf:label><xf:value ref="@xml:id"></xf:value>
                                                                                                               </xf:itemset>
                                                                                                            </xf:select1>
                                                                                                            <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref="."><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                            </xf:trigger>
                                                                                                         </div>
                                                                                                      </div>
                                                                                                   </xf:repeat>
                                                                                                </div>
                                                                                                <xf:repeat id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7" ref="./*[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:child]">
                                                                                                   <div class="nested">
                                                                                                      <xf:group xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]]">
                                                                                                         <div xmlns="http://www.w3.org/1999/xhtml" class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                                                                                                            <div class="btn-group" role="group">
                                                                                                               <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                               </xf:trigger>
                                                                                                               <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline" ref=".[count(preceding-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                                                                     <setvalue ref="instance('i-move')/tmp" value="count(context()/preceding-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                                                                     <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="before"></insert>
                                                                                                                     <delete ref="."></delete>
                                                                                                                  </xf:action>
                                                                                                               </xf:trigger>
                                                                                                               <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline" ref=".[count(following-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                                                                     <setvalue ref="instance('i-move')/tmp" value="count(context()/following-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                                                                     <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="after"></insert>
                                                                                                                     <delete ref="."></delete>
                                                                                                                  </xf:action>
                                                                                                               </xf:trigger><span class="elementLabel"><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@elementLabel" class="elementLabel"></xf:output><a href="#" class="triggerTEITooltip"><img src="resources/images/hn/Text_Encoding_InitiativeTEI_Logo.svg" /></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@teiElement" class="TEITooltip"></xf:output><a href="#" class="triggerElementTooltip"><i class="bi bi-question-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:desc/text()" class="elementTooltip"></xf:output>
                                                                                                                   <a href="#" class="triggerElementTooltip"><i class="bi bi-info-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@errorMessage" class="elementTooltip"></xf:output></span><div class="input-group float-end">
                                                                                                                  <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element"><xf:label ref="@label"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                                     </xf:itemset>
                                                                                                                     <xf:action ev:event="xforms-value-changed">
                                                                                                                        <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                                                                     </xf:action>
                                                                                                                  </xf:select1>
                                                                                                                  <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]]"><xf:label><i class="bi bi-plus"></i> Add field </xf:label><xf:action ev:event="DOMActivate">
                                                                                                                        <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-bibl-elementTemplate')/*[local-name() = instance('i-insert-elements')//*:element][1]" position="after"></xf:insert>
                                                                                                                     </xf:action>
                                                                                                                     <xf:setvalue ev:event="DOMActivate" ref="instance('i-insert-elements')//*:element"></xf:setvalue>
                                                                                                                     <xf:setvalue ev:event="DOMActivate" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]"></xf:setvalue>
                                                                                                                  </xf:trigger>
                                                                                                                  <xf:group ref=".[not(count(@*[local-name()=instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident]) = count(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident))]">
                                                                                                                     <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts/*:attDef"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                                        </xf:itemset>
                                                                                                                        <xf:action ev:event="xforms-value-changed">
                                                                                                                           <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                                                                        </xf:action>
                                                                                                                     </xf:select1>
                                                                                                                     <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]]"><xf:label><i class="bi bi-plus"></i> Add features</xf:label><xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"></xf:insert>
                                                                                                                        <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="''"></xf:setvalue>
                                                                                                                        <xf:setvalue ref="instance('i-availableElements')/*" value="''"></xf:setvalue>
                                                                                                                     </xf:trigger>
                                                                                                                  </xf:group>
                                                                                                                  <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup[not(@supress='true')]]" class="btn btn-outline-secondary btn-sm controls add showLookup"><xf:label><i class="bi bi-search"></i> Lookup  </xf:label><xf:action ev:event="DOMActivate">
                                                                                                                        <xf:toggle case="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7LookupUnHide" ev:event="DOMActivate"></xf:toggle>
                                                                                                                        <xf:load show="embed" targetid="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7subformLookup">
                                                                                                                           <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@formURL"></xf:resource>
                                                                                                                        </xf:load>
                                                                                                                        <xf:setvalue ref="instance('i-lookup-uri')//uri" value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@api"></xf:setvalue>
                                                                                                                     </xf:action>
                                                                                                                  </xf:trigger>
                                                                                                                  <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup]" class="btn btn-outline-secondary btn-sm controls add"><xf:label><i class="bi bi-plus"></i> New  <xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"></xf:output></xf:label><xf:action ev:event="DOMActivate">
                                                                                                                        <xf:load show="new">
                                                                                                                           <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup/@formURL"></xf:resource>
                                                                                                                        </xf:load>
                                                                                                                     </xf:action>
                                                                                                                  </xf:trigger>
                                                                                                                  <xf:switch class="lookupSwitch" style="width:.5em;">
                                                                                                                     <xf:case id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7LookupHide" style="display:none;"></xf:case>
                                                                                                                     <xf:case id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7LookupUnHide">
                                                                                                                        <div class="lookupDisplay">
                                                                                                                           <xf:group id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7subformLookup"></xf:group>
                                                                                                                           <div class="text-right">
                                                                                                                              <xf:trigger class="btn btn-outline-secondary btn-sm close" appearance="full"><xf:label><i class="bi bi-x"></i> Close</xf:label><xf:toggle case="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7LookupHide" ev:event="DOMActivate"></xf:toggle>
                                                                                                                                 <xf:unload targetid="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7subformLookup" ev:event="DOMActivate"></xf:unload>
                                                                                                                                 <xf:setvalue ref="instance('i-lookup-uri')//*:uri" value="''"></xf:setvalue>
                                                                                                                              </xf:trigger>
                                                                                                                           </div>
                                                                                                                        </div>
                                                                                                                     </xf:case>
                                                                                                                  </xf:switch>
                                                                                                               </div>
                                                                                                            </div>
                                                                                                         </div>
                                                                                                         <div xmlns="http://www.w3.org/1999/xhtml" class="element">
                                                                                                            <div class="inlineDisplay btn-toolbar justify-content-between" role="toolbar">
                                                                                                               <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem]" class="elementSelect">
                                                                                                                  <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem"><xf:label ref="@ident"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                                  </xf:itemset>
                                                                                                               </xf:select1><xf:input xmlns="http://www.w3.org/2002/xforms" class="elementInput" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues) and instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='input']]"></xf:input><xf:textarea xmlns="http://www.w3.org/2002/xforms" class="elementTextArea" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='textarea']]"></xf:textarea><xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*[local-name() != 'source']" class="attr-group">
                                                                                                                  <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                                                                     <div class="input-group"><xf:output xmlns="http://www.w3.org/2002/xforms" class="restricted" value=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted']]"></xf:output><xf:input xmlns="http://www.w3.org/2002/xforms" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList)][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal"></xf:input><xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal">
                                                                                                                           <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList/*:valItem" class="attVal"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                                              <xf:hint ref="@desc"></xf:hint>
                                                                                                                           </xf:itemset>
                                                                                                                        </xf:select1>
                                                                                                                        <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                                        </xf:trigger>
                                                                                                                     </div>
                                                                                                                  </div>
                                                                                                               </xf:repeat>
                                                                                                               <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@source" class="attr-group">
                                                                                                                  <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                                                                     <div class="input-group">
                                                                                                                        <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="." class="attVal"><xf:label></xf:label><xf:item><xf:label>Select Source</xf:label><xf:value></xf:value>
                                                                                                                           </xf:item>
                                                                                                                           <xf:itemset ref="instance('i-rec')//*:text/descendant::*:bibl[*:title]"><xf:label value="*:title"></xf:label><xf:value ref="@xml:id"></xf:value>
                                                                                                                           </xf:itemset>
                                                                                                                        </xf:select1>
                                                                                                                        <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref="."><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                                        </xf:trigger>
                                                                                                                     </div>
                                                                                                                  </div>
                                                                                                               </xf:repeat>
                                                                                                            </div>
                                                                                                            <xf:repeat id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7RepeatLevel8" ref="./*[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:child]">
                                                                                                               <div class="nested">
                                                                                                                  <xf:group xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]]">
                                                                                                                     <div xmlns="http://www.w3.org/1999/xhtml" class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                                                                                                                        <div class="btn-group" role="group">
                                                                                                                           <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                                           </xf:trigger>
                                                                                                                           <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline" ref=".[count(preceding-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                                                                                 <setvalue ref="instance('i-move')/tmp" value="count(context()/preceding-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                                                                                 <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="before"></insert>
                                                                                                                                 <delete ref="."></delete>
                                                                                                                              </xf:action>
                                                                                                                           </xf:trigger>
                                                                                                                           <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline" ref=".[count(following-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                                                                                 <setvalue ref="instance('i-move')/tmp" value="count(context()/following-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                                                                                 <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="after"></insert>
                                                                                                                                 <delete ref="."></delete>
                                                                                                                              </xf:action>
                                                                                                                           </xf:trigger><span class="elementLabel"><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@elementLabel" class="elementLabel"></xf:output><a href="#" class="triggerTEITooltip"><img src="resources/images/hn/Text_Encoding_InitiativeTEI_Logo.svg" /></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@teiElement" class="TEITooltip"></xf:output><a href="#" class="triggerElementTooltip"><i class="bi bi-question-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:desc/text()" class="elementTooltip"></xf:output>
                                                                                                                               <a href="#" class="triggerElementTooltip"><i class="bi bi-info-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@errorMessage" class="elementTooltip"></xf:output></span><div class="input-group float-end">
                                                                                                                              <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element"><xf:label ref="@label"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                                                 </xf:itemset>
                                                                                                                                 <xf:action ev:event="xforms-value-changed">
                                                                                                                                    <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                                                                                 </xf:action>
                                                                                                                              </xf:select1>
                                                                                                                              <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]]"><xf:label><i class="bi bi-plus"></i> Add field </xf:label><xf:action ev:event="DOMActivate">
                                                                                                                                    <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-bibl-elementTemplate')/*[local-name() = instance('i-insert-elements')//*:element][1]" position="after"></xf:insert>
                                                                                                                                 </xf:action>
                                                                                                                                 <xf:setvalue ev:event="DOMActivate" ref="instance('i-insert-elements')//*:element"></xf:setvalue>
                                                                                                                                 <xf:setvalue ev:event="DOMActivate" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]"></xf:setvalue>
                                                                                                                              </xf:trigger>
                                                                                                                              <xf:group ref=".[not(count(@*[local-name()=instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident]) = count(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident))]">
                                                                                                                                 <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts/*:attDef"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                                                    </xf:itemset>
                                                                                                                                    <xf:action ev:event="xforms-value-changed">
                                                                                                                                       <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                                                                                    </xf:action>
                                                                                                                                 </xf:select1>
                                                                                                                                 <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]]"><xf:label><i class="bi bi-plus"></i> Add features</xf:label><xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"></xf:insert>
                                                                                                                                    <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="''"></xf:setvalue>
                                                                                                                                    <xf:setvalue ref="instance('i-availableElements')/*" value="''"></xf:setvalue>
                                                                                                                                 </xf:trigger>
                                                                                                                              </xf:group>
                                                                                                                              <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup[not(@supress='true')]]" class="btn btn-outline-secondary btn-sm controls add showLookup"><xf:label><i class="bi bi-search"></i> Lookup  </xf:label><xf:action ev:event="DOMActivate">
                                                                                                                                    <xf:toggle case="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7RepeatLevel8LookupUnHide" ev:event="DOMActivate"></xf:toggle>
                                                                                                                                    <xf:load show="embed" targetid="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7RepeatLevel8subformLookup">
                                                                                                                                       <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@formURL"></xf:resource>
                                                                                                                                    </xf:load>
                                                                                                                                    <xf:setvalue ref="instance('i-lookup-uri')//uri" value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@api"></xf:setvalue>
                                                                                                                                 </xf:action>
                                                                                                                              </xf:trigger>
                                                                                                                              <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup]" class="btn btn-outline-secondary btn-sm controls add"><xf:label><i class="bi bi-plus"></i> New  <xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"></xf:output></xf:label><xf:action ev:event="DOMActivate">
                                                                                                                                    <xf:load show="new">
                                                                                                                                       <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup/@formURL"></xf:resource>
                                                                                                                                    </xf:load>
                                                                                                                                 </xf:action>
                                                                                                                              </xf:trigger>
                                                                                                                              <xf:switch class="lookupSwitch" style="width:.5em;">
                                                                                                                                 <xf:case id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7RepeatLevel8LookupHide" style="display:none;"></xf:case>
                                                                                                                                 <xf:case id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7RepeatLevel8LookupUnHide">
                                                                                                                                    <div class="lookupDisplay">
                                                                                                                                       <xf:group id="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7RepeatLevel8subformLookup"></xf:group>
                                                                                                                                       <div class="text-right">
                                                                                                                                          <xf:trigger class="btn btn-outline-secondary btn-sm close" appearance="full"><xf:label><i class="bi bi-x"></i> Close</xf:label><xf:toggle case="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7RepeatLevel8LookupHide" ev:event="DOMActivate"></xf:toggle>
                                                                                                                                             <xf:unload targetid="biblGrpRepeatLevel11GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7RepeatLevel8subformLookup" ev:event="DOMActivate"></xf:unload>
                                                                                                                                             <xf:setvalue ref="instance('i-lookup-uri')//*:uri" value="''"></xf:setvalue>
                                                                                                                                          </xf:trigger>
                                                                                                                                       </div>
                                                                                                                                    </div>
                                                                                                                                 </xf:case>
                                                                                                                              </xf:switch>
                                                                                                                           </div>
                                                                                                                        </div>
                                                                                                                     </div>
                                                                                                                     <div xmlns="http://www.w3.org/1999/xhtml" class="element">
                                                                                                                        <div class="inlineDisplay btn-toolbar justify-content-between" role="toolbar">
                                                                                                                           <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem]" class="elementSelect">
                                                                                                                              <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem"><xf:label ref="@ident"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                                              </xf:itemset>
                                                                                                                           </xf:select1><xf:input xmlns="http://www.w3.org/2002/xforms" class="elementInput" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues) and instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='input']]"></xf:input><xf:textarea xmlns="http://www.w3.org/2002/xforms" class="elementTextArea" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='textarea']]"></xf:textarea><xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*[local-name() != 'source']" class="attr-group">
                                                                                                                              <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                                                                                 <div class="input-group"><xf:output xmlns="http://www.w3.org/2002/xforms" class="restricted" value=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted']]"></xf:output><xf:input xmlns="http://www.w3.org/2002/xforms" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList)][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal"></xf:input><xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal">
                                                                                                                                       <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList/*:valItem" class="attVal"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                                                          <xf:hint ref="@desc"></xf:hint>
                                                                                                                                       </xf:itemset>
                                                                                                                                    </xf:select1>
                                                                                                                                    <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                                                    </xf:trigger>
                                                                                                                                 </div>
                                                                                                                              </div>
                                                                                                                           </xf:repeat>
                                                                                                                           <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@source" class="attr-group">
                                                                                                                              <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                                                                                 <div class="input-group">
                                                                                                                                    <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="." class="attVal"><xf:label></xf:label><xf:item><xf:label>Select Source</xf:label><xf:value></xf:value>
                                                                                                                                       </xf:item>
                                                                                                                                       <xf:itemset ref="instance('i-rec')//*:text/descendant::*:bibl[*:title]"><xf:label value="*:title"></xf:label><xf:value ref="@xml:id"></xf:value>
                                                                                                                                       </xf:itemset>
                                                                                                                                    </xf:select1>
                                                                                                                                    <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref="."><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                                                    </xf:trigger>
                                                                                                                                 </div>
                                                                                                                              </div>
                                                                                                                           </xf:repeat>
                                                                                                                        </div>
                                                                                                                     </div>
                                                                                                                  </xf:group>
                                                                                                               </div>
                                                                                                            </xf:repeat>
                                                                                                         </div>
                                                                                                      </xf:group>
                                                                                                   </div>
                                                                                                </xf:repeat>
                                                                                             </div>
                                                                                          </xf:group>
                                                                                       </div>
                                                                                    </xf:repeat>
                                                                                 </div>
                                                                              </xf:group>
                                                                           </div>
                                                                        </xf:repeat>
                                                                     </div>
                                                                  </xf:group>
                                                               </div>
                                                            </xf:repeat>
                                                         </div>
                                                      </xf:group>
                                                   </div>
                                                </xf:repeat>
                                             </div>
                                          </xf:group>
                                       </div>
                                    </xf:repeat>
                                 </div>
                              </xf:group>
                           </xf:repeat>
                        </div>
                     </xf:repeat>
                  </div>
               </div>
            </div>
            <div class="accordion-item">
               <h2 class="accordion-header" id="heading2"><button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" aria-expanded="false" aria-controls="collapse2">Add notable quotations from work.</button></h2>
               <div id="collapse2" class="accordion-collapse collapse" aria-labelledby="heading2" data-bs-parent="#elementGroup">
                  <div class="accordion-body">
                     <div class="btn-group full-width" role="group">
                        <div class="input-group mb-3 float-end"><span class="input-group-text">Available Elements</span><xf:select1 xmlns="http://www.w3.org/2002/xforms" class="addElementsGrp" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/*:child/*:element]"><xf:label></xf:label><xf:item><xf:label ref="instance('i-bibl-schemaConstraints')/*[local-name() = 'incipit']/@elementLabel"></xf:label><xf:value>incipit</xf:value>
                              </xf:item>
                              <xf:item><xf:label ref="instance('i-bibl-schemaConstraints')/*[local-name() = 'explicit']/@elementLabel"></xf:label><xf:value>explicit</xf:value>
                              </xf:item>
                              <xf:item><xf:label ref="instance('i-bibl-schemaConstraints')/*[local-name() = 'quote']/@elementLabel"></xf:label><xf:value>quote</xf:value>
                              </xf:item>
                              <xf:action ev:event="xforms-value-changed">
                                 <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                              </xf:action>
                           </xf:select1>
                           <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls add" appearance="minimal"><xf:label><i class="bi bi-plus"></i> Add field </xf:label><xf:action ev:event="DOMActivate">
                                 <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-bibl-elementTemplate')/*[local-name() = instance('i-insert-elements')//*:element][1]" position="after"></xf:insert>
                              </xf:action>
                              <xf:setvalue ev:event="DOMActivate" ref="instance('i-insert-elements')//*:element"></xf:setvalue>
                              <xf:setvalue ev:event="DOMActivate" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]"></xf:setvalue>
                           </xf:trigger>
                        </div>
                     </div>
                     <xf:repeat xmlns="http://www.w3.org/2002/xforms" id="biblGrpRepeatLevel21" ref="./*[self::*:incipit | self::*:explicit | self::*:quote]">
                        <div xmlns="http://www.w3.org/1999/xhtml" class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                           <div class="btn-group" role="group">
                              <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline" ref=".[count(preceding-sibling::*[self::*:incipit | self::*:explicit | self::*:quote]) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                              </xf:trigger>
                              <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline" ref=".[count(preceding-sibling::*[self::*:incipit | self::*:explicit | self::*:quote]) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                    <setvalue ref="instance('i-move')/tmp" value="count(context()/preceding-sibling::*[self::*:incipit | self::*:explicit | self::*:quote][1]/preceding-sibling::*) + 1"></setvalue>
                                    <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="before"></insert>
                                    <delete ref="."></delete>
                                 </xf:action>
                              </xf:trigger>
                              <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline" ref=".[count(following-sibling::*[self::*:incipit | self::*:explicit | self::*:quote]) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                    <setvalue ref="instance('i-move')/tmp" value="count(context()/following-sibling::*[self::*:incipit | self::*:explicit | self::*:quote][1]/preceding-sibling::*) + 1"></setvalue>
                                    <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="after"></insert>
                                    <delete ref="."></delete>
                                 </xf:action>
                              </xf:trigger><span class="elementLabel"><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@elementLabel" class="elementLabel"></xf:output><a href="#" class="triggerTEITooltip"><img src="resources/images/hn/Text_Encoding_InitiativeTEI_Logo.svg" /></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@teiElement" class="TEITooltip"></xf:output><a href="#" class="triggerElementTooltip"><i class="bi bi-question-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:desc/text()" class="elementTooltip"></xf:output>
                                  <a href="#" class="triggerElementTooltip"><i class="bi bi-info-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@errorMessage" class="elementTooltip"></xf:output></span><div class="input-group float-end">
                                 <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element"><xf:label ref="@label"></xf:label><xf:value ref="@ident"></xf:value>
                                    </xf:itemset>
                                    <xf:action ev:event="xforms-value-changed">
                                       <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                    </xf:action>
                                 </xf:select1>
                                 <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/descendant-or-self::*:element]]"><xf:label><i class="bi bi-plus"></i> Add field </xf:label><xf:action ev:event="DOMActivate">
                                       <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-bibl-elementTemplate')/*[local-name() = instance('i-insert-elements')//*:element][1]" position="after"></xf:insert>
                                    </xf:action>
                                    <xf:setvalue ev:event="DOMActivate" ref="instance('i-insert-elements')//*:element"></xf:setvalue>
                                    <xf:setvalue ev:event="DOMActivate" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]"></xf:setvalue>
                                 </xf:trigger>
                                 <xf:group ref=".[not(count(@*[local-name()=instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident]) = count(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident))]">
                                    <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts/*:attDef"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                       </xf:itemset>
                                       <xf:action ev:event="xforms-value-changed">
                                          <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                       </xf:action>
                                    </xf:select1>
                                    <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]]"><xf:label><i class="bi bi-plus"></i> Add features</xf:label><xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"></xf:insert>
                                       <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="''"></xf:setvalue>
                                       <xf:setvalue ref="instance('i-availableElements')/*" value="''"></xf:setvalue>
                                    </xf:trigger>
                                 </xf:group>
                                 <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup[not(@supress='true')]]" class="btn btn-outline-secondary btn-sm controls add showLookup"><xf:label><i class="bi bi-search"></i> Lookup  </xf:label><xf:action ev:event="DOMActivate">
                                       <xf:toggle case="d1e144LookupUnHide" ev:event="DOMActivate"></xf:toggle>
                                       <xf:load show="embed" targetid="d1e144subformLookup">
                                          <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@formURL"></xf:resource>
                                       </xf:load>
                                       <xf:setvalue ref="instance('i-lookup-uri')//uri" value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@api"></xf:setvalue>
                                    </xf:action>
                                 </xf:trigger>
                                 <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup]" class="btn btn-outline-secondary btn-sm controls add"><xf:label><i class="bi bi-plus"></i> New  <xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"></xf:output></xf:label><xf:action ev:event="DOMActivate">
                                       <xf:load show="new">
                                          <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup/@formURL"></xf:resource>
                                       </xf:load>
                                    </xf:action>
                                 </xf:trigger>
                                 <xf:switch class="lookupSwitch" style="width:.5em;">
                                    <xf:case id="d1e144LookupHide" style="display:none;"></xf:case>
                                    <xf:case id="d1e144LookupUnHide">
                                       <div class="lookupDisplay">
                                          <xf:group id="d1e144subformLookup"></xf:group>
                                          <div class="text-right">
                                             <xf:trigger class="btn btn-outline-secondary btn-sm close" appearance="full"><xf:label><i class="bi bi-x"></i> Close</xf:label><xf:toggle case="d1e144LookupHide" ev:event="DOMActivate"></xf:toggle>
                                                <xf:unload targetid="d1e144subformLookup" ev:event="DOMActivate"></xf:unload>
                                                <xf:setvalue ref="instance('i-lookup-uri')//*:uri" value="''"></xf:setvalue>
                                             </xf:trigger>
                                          </div>
                                       </div>
                                    </xf:case>
                                 </xf:switch>
                              </div>
                           </div>
                        </div>
                        <div xmlns="http://www.w3.org/1999/xhtml" class="element">
                           <div class="inlineDisplay btn-toolbar justify-content-between" role="toolbar">
                              <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem]" class="elementSelect">
                                 <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem"><xf:label ref="@ident"></xf:label><xf:value ref="@ident"></xf:value>
                                 </xf:itemset>
                              </xf:select1><xf:input xmlns="http://www.w3.org/2002/xforms" class="elementInput" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues) and instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='input']]"></xf:input><xf:textarea xmlns="http://www.w3.org/2002/xforms" class="elementTextArea" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='textarea']]"></xf:textarea><xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*[local-name() != 'source']" class="attr-group">
                                 <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                    <div class="input-group"><xf:output xmlns="http://www.w3.org/2002/xforms" class="restricted" value=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted']]"></xf:output><xf:input xmlns="http://www.w3.org/2002/xforms" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList)][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal"></xf:input><xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal">
                                          <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList/*:valItem" class="attVal"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                             <xf:hint ref="@desc"></xf:hint>
                                          </xf:itemset>
                                       </xf:select1>
                                       <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                       </xf:trigger>
                                    </div>
                                 </div>
                              </xf:repeat>
                              <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@source" class="attr-group">
                                 <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                    <div class="input-group">
                                       <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="." class="attVal"><xf:label></xf:label><xf:item><xf:label>Select Source</xf:label><xf:value></xf:value>
                                          </xf:item>
                                          <xf:itemset ref="instance('i-rec')//*:text/descendant::*:bibl[*:title]"><xf:label value="*:title"></xf:label><xf:value ref="@xml:id"></xf:value>
                                          </xf:itemset>
                                       </xf:select1>
                                       <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref="."><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                       </xf:trigger>
                                    </div>
                                 </div>
                              </xf:repeat>
                           </div>
                           <xf:repeat xmlns="http://www.w3.org/2002/xforms" id="biblGrpRepeatLevel21GrpRepeatLevel1" ref="./*[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:child]" class="nested">
                              <xf:group ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]]">
                                 <div xmlns="http://www.w3.org/1999/xhtml" class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                                    <div class="btn-group" role="group">
                                       <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                       </xf:trigger>
                                       <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline" ref=".[count(preceding-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                             <setvalue ref="instance('i-move')/tmp" value="count(context()/preceding-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                             <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="before"></insert>
                                             <delete ref="."></delete>
                                          </xf:action>
                                       </xf:trigger>
                                       <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline" ref=".[count(following-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                             <setvalue ref="instance('i-move')/tmp" value="count(context()/following-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                             <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="after"></insert>
                                             <delete ref="."></delete>
                                          </xf:action>
                                       </xf:trigger><span class="elementLabel"><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@elementLabel" class="elementLabel"></xf:output><a href="#" class="triggerTEITooltip"><img src="resources/images/hn/Text_Encoding_InitiativeTEI_Logo.svg" /></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@teiElement" class="TEITooltip"></xf:output><a href="#" class="triggerElementTooltip"><i class="bi bi-question-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:desc/text()" class="elementTooltip"></xf:output>
                                           <a href="#" class="triggerElementTooltip"><i class="bi bi-info-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@errorMessage" class="elementTooltip"></xf:output></span><div class="input-group float-end">
                                          <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element"><xf:label ref="@label"></xf:label><xf:value ref="@ident"></xf:value>
                                             </xf:itemset>
                                             <xf:action ev:event="xforms-value-changed">
                                                <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                             </xf:action>
                                          </xf:select1>
                                          <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]]"><xf:label><i class="bi bi-plus"></i> Add field </xf:label><xf:action ev:event="DOMActivate">
                                                <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-bibl-elementTemplate')/*[local-name() = instance('i-insert-elements')//*:element][1]" position="after"></xf:insert>
                                             </xf:action>
                                             <xf:setvalue ev:event="DOMActivate" ref="instance('i-insert-elements')//*:element"></xf:setvalue>
                                             <xf:setvalue ev:event="DOMActivate" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]"></xf:setvalue>
                                          </xf:trigger>
                                          <xf:group ref=".[not(count(@*[local-name()=instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident]) = count(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident))]">
                                             <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts/*:attDef"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                </xf:itemset>
                                                <xf:action ev:event="xforms-value-changed">
                                                   <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                </xf:action>
                                             </xf:select1>
                                             <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]]"><xf:label><i class="bi bi-plus"></i> Add features</xf:label><xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"></xf:insert>
                                                <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="''"></xf:setvalue>
                                                <xf:setvalue ref="instance('i-availableElements')/*" value="''"></xf:setvalue>
                                             </xf:trigger>
                                          </xf:group>
                                          <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup[not(@supress='true')]]" class="btn btn-outline-secondary btn-sm controls add showLookup"><xf:label><i class="bi bi-search"></i> Lookup  </xf:label><xf:action ev:event="DOMActivate">
                                                <xf:toggle case="biblGrpRepeatLevel21GrpRepeatLevel1LookupUnHide" ev:event="DOMActivate"></xf:toggle>
                                                <xf:load show="embed" targetid="biblGrpRepeatLevel21GrpRepeatLevel1subformLookup">
                                                   <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@formURL"></xf:resource>
                                                </xf:load>
                                                <xf:setvalue ref="instance('i-lookup-uri')//uri" value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@api"></xf:setvalue>
                                             </xf:action>
                                          </xf:trigger>
                                          <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup]" class="btn btn-outline-secondary btn-sm controls add"><xf:label><i class="bi bi-plus"></i> New  <xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"></xf:output></xf:label><xf:action ev:event="DOMActivate">
                                                <xf:load show="new">
                                                   <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup/@formURL"></xf:resource>
                                                </xf:load>
                                             </xf:action>
                                          </xf:trigger>
                                          <xf:switch class="lookupSwitch" style="width:.5em;">
                                             <xf:case id="biblGrpRepeatLevel21GrpRepeatLevel1LookupHide" style="display:none;"></xf:case>
                                             <xf:case id="biblGrpRepeatLevel21GrpRepeatLevel1LookupUnHide">
                                                <div class="lookupDisplay">
                                                   <xf:group id="biblGrpRepeatLevel21GrpRepeatLevel1subformLookup"></xf:group>
                                                   <div class="text-right">
                                                      <xf:trigger class="btn btn-outline-secondary btn-sm close" appearance="full"><xf:label><i class="bi bi-x"></i> Close</xf:label><xf:toggle case="biblGrpRepeatLevel21GrpRepeatLevel1LookupHide" ev:event="DOMActivate"></xf:toggle>
                                                         <xf:unload targetid="biblGrpRepeatLevel21GrpRepeatLevel1subformLookup" ev:event="DOMActivate"></xf:unload>
                                                         <xf:setvalue ref="instance('i-lookup-uri')//*:uri" value="''"></xf:setvalue>
                                                      </xf:trigger>
                                                   </div>
                                                </div>
                                             </xf:case>
                                          </xf:switch>
                                       </div>
                                    </div>
                                 </div>
                                 <div xmlns="http://www.w3.org/1999/xhtml" class="element">
                                    <div class="inlineDisplay btn-toolbar justify-content-between" role="toolbar">
                                       <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem]" class="elementSelect">
                                          <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem"><xf:label ref="@ident"></xf:label><xf:value ref="@ident"></xf:value>
                                          </xf:itemset>
                                       </xf:select1><xf:input xmlns="http://www.w3.org/2002/xforms" class="elementInput" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues) and instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='input']]"></xf:input><xf:textarea xmlns="http://www.w3.org/2002/xforms" class="elementTextArea" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='textarea']]"></xf:textarea><xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*[local-name() != 'source']" class="attr-group">
                                          <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                             <div class="input-group"><xf:output xmlns="http://www.w3.org/2002/xforms" class="restricted" value=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted']]"></xf:output><xf:input xmlns="http://www.w3.org/2002/xforms" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList)][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal"></xf:input><xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal">
                                                   <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList/*:valItem" class="attVal"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                      <xf:hint ref="@desc"></xf:hint>
                                                   </xf:itemset>
                                                </xf:select1>
                                                <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                </xf:trigger>
                                             </div>
                                          </div>
                                       </xf:repeat>
                                       <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@source" class="attr-group">
                                          <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                             <div class="input-group">
                                                <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="." class="attVal"><xf:label></xf:label><xf:item><xf:label>Select Source</xf:label><xf:value></xf:value>
                                                   </xf:item>
                                                   <xf:itemset ref="instance('i-rec')//*:text/descendant::*:bibl[*:title]"><xf:label value="*:title"></xf:label><xf:value ref="@xml:id"></xf:value>
                                                   </xf:itemset>
                                                </xf:select1>
                                                <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref="."><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                </xf:trigger>
                                             </div>
                                          </div>
                                       </xf:repeat>
                                    </div>
                                    <xf:repeat id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2" ref="./*[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:child]">
                                       <div class="nested">
                                          <xf:group xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]]">
                                             <div xmlns="http://www.w3.org/1999/xhtml" class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                                                <div class="btn-group" role="group">
                                                   <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                   </xf:trigger>
                                                   <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline" ref=".[count(preceding-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                         <setvalue ref="instance('i-move')/tmp" value="count(context()/preceding-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                         <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="before"></insert>
                                                         <delete ref="."></delete>
                                                      </xf:action>
                                                   </xf:trigger>
                                                   <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline" ref=".[count(following-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                         <setvalue ref="instance('i-move')/tmp" value="count(context()/following-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                         <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="after"></insert>
                                                         <delete ref="."></delete>
                                                      </xf:action>
                                                   </xf:trigger><span class="elementLabel"><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@elementLabel" class="elementLabel"></xf:output><a href="#" class="triggerTEITooltip"><img src="resources/images/hn/Text_Encoding_InitiativeTEI_Logo.svg" /></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@teiElement" class="TEITooltip"></xf:output><a href="#" class="triggerElementTooltip"><i class="bi bi-question-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:desc/text()" class="elementTooltip"></xf:output>
                                                       <a href="#" class="triggerElementTooltip"><i class="bi bi-info-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@errorMessage" class="elementTooltip"></xf:output></span><div class="input-group float-end">
                                                      <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element"><xf:label ref="@label"></xf:label><xf:value ref="@ident"></xf:value>
                                                         </xf:itemset>
                                                         <xf:action ev:event="xforms-value-changed">
                                                            <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                         </xf:action>
                                                      </xf:select1>
                                                      <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]]"><xf:label><i class="bi bi-plus"></i> Add field </xf:label><xf:action ev:event="DOMActivate">
                                                            <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-bibl-elementTemplate')/*[local-name() = instance('i-insert-elements')//*:element][1]" position="after"></xf:insert>
                                                         </xf:action>
                                                         <xf:setvalue ev:event="DOMActivate" ref="instance('i-insert-elements')//*:element"></xf:setvalue>
                                                         <xf:setvalue ev:event="DOMActivate" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]"></xf:setvalue>
                                                      </xf:trigger>
                                                      <xf:group ref=".[not(count(@*[local-name()=instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident]) = count(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident))]">
                                                         <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts/*:attDef"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                            </xf:itemset>
                                                            <xf:action ev:event="xforms-value-changed">
                                                               <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                            </xf:action>
                                                         </xf:select1>
                                                         <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]]"><xf:label><i class="bi bi-plus"></i> Add features</xf:label><xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"></xf:insert>
                                                            <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="''"></xf:setvalue>
                                                            <xf:setvalue ref="instance('i-availableElements')/*" value="''"></xf:setvalue>
                                                         </xf:trigger>
                                                      </xf:group>
                                                      <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup[not(@supress='true')]]" class="btn btn-outline-secondary btn-sm controls add showLookup"><xf:label><i class="bi bi-search"></i> Lookup  </xf:label><xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2LookupUnHide" ev:event="DOMActivate"></xf:toggle>
                                                            <xf:load show="embed" targetid="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2subformLookup">
                                                               <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@formURL"></xf:resource>
                                                            </xf:load>
                                                            <xf:setvalue ref="instance('i-lookup-uri')//uri" value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@api"></xf:setvalue>
                                                         </xf:action>
                                                      </xf:trigger>
                                                      <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup]" class="btn btn-outline-secondary btn-sm controls add"><xf:label><i class="bi bi-plus"></i> New  <xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"></xf:output></xf:label><xf:action ev:event="DOMActivate">
                                                            <xf:load show="new">
                                                               <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup/@formURL"></xf:resource>
                                                            </xf:load>
                                                         </xf:action>
                                                      </xf:trigger>
                                                      <xf:switch class="lookupSwitch" style="width:.5em;">
                                                         <xf:case id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2LookupHide" style="display:none;"></xf:case>
                                                         <xf:case id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2LookupUnHide">
                                                            <div class="lookupDisplay">
                                                               <xf:group id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2subformLookup"></xf:group>
                                                               <div class="text-right">
                                                                  <xf:trigger class="btn btn-outline-secondary btn-sm close" appearance="full"><xf:label><i class="bi bi-x"></i> Close</xf:label><xf:toggle case="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2LookupHide" ev:event="DOMActivate"></xf:toggle>
                                                                     <xf:unload targetid="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2subformLookup" ev:event="DOMActivate"></xf:unload>
                                                                     <xf:setvalue ref="instance('i-lookup-uri')//*:uri" value="''"></xf:setvalue>
                                                                  </xf:trigger>
                                                               </div>
                                                            </div>
                                                         </xf:case>
                                                      </xf:switch>
                                                   </div>
                                                </div>
                                             </div>
                                             <div xmlns="http://www.w3.org/1999/xhtml" class="element">
                                                <div class="inlineDisplay btn-toolbar justify-content-between" role="toolbar">
                                                   <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem]" class="elementSelect">
                                                      <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem"><xf:label ref="@ident"></xf:label><xf:value ref="@ident"></xf:value>
                                                      </xf:itemset>
                                                   </xf:select1><xf:input xmlns="http://www.w3.org/2002/xforms" class="elementInput" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues) and instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='input']]"></xf:input><xf:textarea xmlns="http://www.w3.org/2002/xforms" class="elementTextArea" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='textarea']]"></xf:textarea><xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*[local-name() != 'source']" class="attr-group">
                                                      <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                         <div class="input-group"><xf:output xmlns="http://www.w3.org/2002/xforms" class="restricted" value=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted']]"></xf:output><xf:input xmlns="http://www.w3.org/2002/xforms" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList)][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal"></xf:input><xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal">
                                                               <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList/*:valItem" class="attVal"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                  <xf:hint ref="@desc"></xf:hint>
                                                               </xf:itemset>
                                                            </xf:select1>
                                                            <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                            </xf:trigger>
                                                         </div>
                                                      </div>
                                                   </xf:repeat>
                                                   <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@source" class="attr-group">
                                                      <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                         <div class="input-group">
                                                            <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="." class="attVal"><xf:label></xf:label><xf:item><xf:label>Select Source</xf:label><xf:value></xf:value>
                                                               </xf:item>
                                                               <xf:itemset ref="instance('i-rec')//*:text/descendant::*:bibl[*:title]"><xf:label value="*:title"></xf:label><xf:value ref="@xml:id"></xf:value>
                                                               </xf:itemset>
                                                            </xf:select1>
                                                            <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref="."><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                            </xf:trigger>
                                                         </div>
                                                      </div>
                                                   </xf:repeat>
                                                </div>
                                                <xf:repeat id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3" ref="./*[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:child]">
                                                   <div class="nested">
                                                      <xf:group xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]]">
                                                         <div xmlns="http://www.w3.org/1999/xhtml" class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                                                            <div class="btn-group" role="group">
                                                               <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                               </xf:trigger>
                                                               <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline" ref=".[count(preceding-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                     <setvalue ref="instance('i-move')/tmp" value="count(context()/preceding-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                     <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="before"></insert>
                                                                     <delete ref="."></delete>
                                                                  </xf:action>
                                                               </xf:trigger>
                                                               <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline" ref=".[count(following-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                     <setvalue ref="instance('i-move')/tmp" value="count(context()/following-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                     <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="after"></insert>
                                                                     <delete ref="."></delete>
                                                                  </xf:action>
                                                               </xf:trigger><span class="elementLabel"><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@elementLabel" class="elementLabel"></xf:output><a href="#" class="triggerTEITooltip"><img src="resources/images/hn/Text_Encoding_InitiativeTEI_Logo.svg" /></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@teiElement" class="TEITooltip"></xf:output><a href="#" class="triggerElementTooltip"><i class="bi bi-question-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:desc/text()" class="elementTooltip"></xf:output>
                                                                   <a href="#" class="triggerElementTooltip"><i class="bi bi-info-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@errorMessage" class="elementTooltip"></xf:output></span><div class="input-group float-end">
                                                                  <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element"><xf:label ref="@label"></xf:label><xf:value ref="@ident"></xf:value>
                                                                     </xf:itemset>
                                                                     <xf:action ev:event="xforms-value-changed">
                                                                        <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                     </xf:action>
                                                                  </xf:select1>
                                                                  <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]]"><xf:label><i class="bi bi-plus"></i> Add field </xf:label><xf:action ev:event="DOMActivate">
                                                                        <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-bibl-elementTemplate')/*[local-name() = instance('i-insert-elements')//*:element][1]" position="after"></xf:insert>
                                                                     </xf:action>
                                                                     <xf:setvalue ev:event="DOMActivate" ref="instance('i-insert-elements')//*:element"></xf:setvalue>
                                                                     <xf:setvalue ev:event="DOMActivate" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]"></xf:setvalue>
                                                                  </xf:trigger>
                                                                  <xf:group ref=".[not(count(@*[local-name()=instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident]) = count(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident))]">
                                                                     <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts/*:attDef"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                        </xf:itemset>
                                                                        <xf:action ev:event="xforms-value-changed">
                                                                           <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                        </xf:action>
                                                                     </xf:select1>
                                                                     <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]]"><xf:label><i class="bi bi-plus"></i> Add features</xf:label><xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"></xf:insert>
                                                                        <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="''"></xf:setvalue>
                                                                        <xf:setvalue ref="instance('i-availableElements')/*" value="''"></xf:setvalue>
                                                                     </xf:trigger>
                                                                  </xf:group>
                                                                  <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup[not(@supress='true')]]" class="btn btn-outline-secondary btn-sm controls add showLookup"><xf:label><i class="bi bi-search"></i> Lookup  </xf:label><xf:action ev:event="DOMActivate">
                                                                        <xf:toggle case="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3LookupUnHide" ev:event="DOMActivate"></xf:toggle>
                                                                        <xf:load show="embed" targetid="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3subformLookup">
                                                                           <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@formURL"></xf:resource>
                                                                        </xf:load>
                                                                        <xf:setvalue ref="instance('i-lookup-uri')//uri" value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@api"></xf:setvalue>
                                                                     </xf:action>
                                                                  </xf:trigger>
                                                                  <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup]" class="btn btn-outline-secondary btn-sm controls add"><xf:label><i class="bi bi-plus"></i> New  <xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"></xf:output></xf:label><xf:action ev:event="DOMActivate">
                                                                        <xf:load show="new">
                                                                           <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup/@formURL"></xf:resource>
                                                                        </xf:load>
                                                                     </xf:action>
                                                                  </xf:trigger>
                                                                  <xf:switch class="lookupSwitch" style="width:.5em;">
                                                                     <xf:case id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3LookupHide" style="display:none;"></xf:case>
                                                                     <xf:case id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3LookupUnHide">
                                                                        <div class="lookupDisplay">
                                                                           <xf:group id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3subformLookup"></xf:group>
                                                                           <div class="text-right">
                                                                              <xf:trigger class="btn btn-outline-secondary btn-sm close" appearance="full"><xf:label><i class="bi bi-x"></i> Close</xf:label><xf:toggle case="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3LookupHide" ev:event="DOMActivate"></xf:toggle>
                                                                                 <xf:unload targetid="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3subformLookup" ev:event="DOMActivate"></xf:unload>
                                                                                 <xf:setvalue ref="instance('i-lookup-uri')//*:uri" value="''"></xf:setvalue>
                                                                              </xf:trigger>
                                                                           </div>
                                                                        </div>
                                                                     </xf:case>
                                                                  </xf:switch>
                                                               </div>
                                                            </div>
                                                         </div>
                                                         <div xmlns="http://www.w3.org/1999/xhtml" class="element">
                                                            <div class="inlineDisplay btn-toolbar justify-content-between" role="toolbar">
                                                               <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem]" class="elementSelect">
                                                                  <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem"><xf:label ref="@ident"></xf:label><xf:value ref="@ident"></xf:value>
                                                                  </xf:itemset>
                                                               </xf:select1><xf:input xmlns="http://www.w3.org/2002/xforms" class="elementInput" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues) and instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='input']]"></xf:input><xf:textarea xmlns="http://www.w3.org/2002/xforms" class="elementTextArea" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='textarea']]"></xf:textarea><xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*[local-name() != 'source']" class="attr-group">
                                                                  <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                     <div class="input-group"><xf:output xmlns="http://www.w3.org/2002/xforms" class="restricted" value=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted']]"></xf:output><xf:input xmlns="http://www.w3.org/2002/xforms" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList)][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal"></xf:input><xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal">
                                                                           <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList/*:valItem" class="attVal"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                              <xf:hint ref="@desc"></xf:hint>
                                                                           </xf:itemset>
                                                                        </xf:select1>
                                                                        <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                        </xf:trigger>
                                                                     </div>
                                                                  </div>
                                                               </xf:repeat>
                                                               <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@source" class="attr-group">
                                                                  <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                     <div class="input-group">
                                                                        <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="." class="attVal"><xf:label></xf:label><xf:item><xf:label>Select Source</xf:label><xf:value></xf:value>
                                                                           </xf:item>
                                                                           <xf:itemset ref="instance('i-rec')//*:text/descendant::*:bibl[*:title]"><xf:label value="*:title"></xf:label><xf:value ref="@xml:id"></xf:value>
                                                                           </xf:itemset>
                                                                        </xf:select1>
                                                                        <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref="."><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                        </xf:trigger>
                                                                     </div>
                                                                  </div>
                                                               </xf:repeat>
                                                            </div>
                                                            <xf:repeat id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4" ref="./*[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:child]">
                                                               <div class="nested">
                                                                  <xf:group xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]]">
                                                                     <div xmlns="http://www.w3.org/1999/xhtml" class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                                                                        <div class="btn-group" role="group">
                                                                           <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                           </xf:trigger>
                                                                           <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline" ref=".[count(preceding-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                                 <setvalue ref="instance('i-move')/tmp" value="count(context()/preceding-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                                 <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="before"></insert>
                                                                                 <delete ref="."></delete>
                                                                              </xf:action>
                                                                           </xf:trigger>
                                                                           <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline" ref=".[count(following-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                                 <setvalue ref="instance('i-move')/tmp" value="count(context()/following-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                                 <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="after"></insert>
                                                                                 <delete ref="."></delete>
                                                                              </xf:action>
                                                                           </xf:trigger><span class="elementLabel"><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@elementLabel" class="elementLabel"></xf:output><a href="#" class="triggerTEITooltip"><img src="resources/images/hn/Text_Encoding_InitiativeTEI_Logo.svg" /></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@teiElement" class="TEITooltip"></xf:output><a href="#" class="triggerElementTooltip"><i class="bi bi-question-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:desc/text()" class="elementTooltip"></xf:output>
                                                                               <a href="#" class="triggerElementTooltip"><i class="bi bi-info-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@errorMessage" class="elementTooltip"></xf:output></span><div class="input-group float-end">
                                                                              <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element"><xf:label ref="@label"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                 </xf:itemset>
                                                                                 <xf:action ev:event="xforms-value-changed">
                                                                                    <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                                 </xf:action>
                                                                              </xf:select1>
                                                                              <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]]"><xf:label><i class="bi bi-plus"></i> Add field </xf:label><xf:action ev:event="DOMActivate">
                                                                                    <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-bibl-elementTemplate')/*[local-name() = instance('i-insert-elements')//*:element][1]" position="after"></xf:insert>
                                                                                 </xf:action>
                                                                                 <xf:setvalue ev:event="DOMActivate" ref="instance('i-insert-elements')//*:element"></xf:setvalue>
                                                                                 <xf:setvalue ev:event="DOMActivate" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]"></xf:setvalue>
                                                                              </xf:trigger>
                                                                              <xf:group ref=".[not(count(@*[local-name()=instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident]) = count(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident))]">
                                                                                 <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts/*:attDef"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                    </xf:itemset>
                                                                                    <xf:action ev:event="xforms-value-changed">
                                                                                       <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                                    </xf:action>
                                                                                 </xf:select1>
                                                                                 <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]]"><xf:label><i class="bi bi-plus"></i> Add features</xf:label><xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"></xf:insert>
                                                                                    <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="''"></xf:setvalue>
                                                                                    <xf:setvalue ref="instance('i-availableElements')/*" value="''"></xf:setvalue>
                                                                                 </xf:trigger>
                                                                              </xf:group>
                                                                              <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup[not(@supress='true')]]" class="btn btn-outline-secondary btn-sm controls add showLookup"><xf:label><i class="bi bi-search"></i> Lookup  </xf:label><xf:action ev:event="DOMActivate">
                                                                                    <xf:toggle case="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4LookupUnHide" ev:event="DOMActivate"></xf:toggle>
                                                                                    <xf:load show="embed" targetid="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4subformLookup">
                                                                                       <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@formURL"></xf:resource>
                                                                                    </xf:load>
                                                                                    <xf:setvalue ref="instance('i-lookup-uri')//uri" value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@api"></xf:setvalue>
                                                                                 </xf:action>
                                                                              </xf:trigger>
                                                                              <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup]" class="btn btn-outline-secondary btn-sm controls add"><xf:label><i class="bi bi-plus"></i> New  <xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"></xf:output></xf:label><xf:action ev:event="DOMActivate">
                                                                                    <xf:load show="new">
                                                                                       <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup/@formURL"></xf:resource>
                                                                                    </xf:load>
                                                                                 </xf:action>
                                                                              </xf:trigger>
                                                                              <xf:switch class="lookupSwitch" style="width:.5em;">
                                                                                 <xf:case id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4LookupHide" style="display:none;"></xf:case>
                                                                                 <xf:case id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4LookupUnHide">
                                                                                    <div class="lookupDisplay">
                                                                                       <xf:group id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4subformLookup"></xf:group>
                                                                                       <div class="text-right">
                                                                                          <xf:trigger class="btn btn-outline-secondary btn-sm close" appearance="full"><xf:label><i class="bi bi-x"></i> Close</xf:label><xf:toggle case="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4LookupHide" ev:event="DOMActivate"></xf:toggle>
                                                                                             <xf:unload targetid="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4subformLookup" ev:event="DOMActivate"></xf:unload>
                                                                                             <xf:setvalue ref="instance('i-lookup-uri')//*:uri" value="''"></xf:setvalue>
                                                                                          </xf:trigger>
                                                                                       </div>
                                                                                    </div>
                                                                                 </xf:case>
                                                                              </xf:switch>
                                                                           </div>
                                                                        </div>
                                                                     </div>
                                                                     <div xmlns="http://www.w3.org/1999/xhtml" class="element">
                                                                        <div class="inlineDisplay btn-toolbar justify-content-between" role="toolbar">
                                                                           <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem]" class="elementSelect">
                                                                              <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem"><xf:label ref="@ident"></xf:label><xf:value ref="@ident"></xf:value>
                                                                              </xf:itemset>
                                                                           </xf:select1><xf:input xmlns="http://www.w3.org/2002/xforms" class="elementInput" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues) and instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='input']]"></xf:input><xf:textarea xmlns="http://www.w3.org/2002/xforms" class="elementTextArea" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='textarea']]"></xf:textarea><xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*[local-name() != 'source']" class="attr-group">
                                                                              <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                                 <div class="input-group"><xf:output xmlns="http://www.w3.org/2002/xforms" class="restricted" value=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted']]"></xf:output><xf:input xmlns="http://www.w3.org/2002/xforms" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList)][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal"></xf:input><xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal">
                                                                                       <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList/*:valItem" class="attVal"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                          <xf:hint ref="@desc"></xf:hint>
                                                                                       </xf:itemset>
                                                                                    </xf:select1>
                                                                                    <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                    </xf:trigger>
                                                                                 </div>
                                                                              </div>
                                                                           </xf:repeat>
                                                                           <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@source" class="attr-group">
                                                                              <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                                 <div class="input-group">
                                                                                    <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="." class="attVal"><xf:label></xf:label><xf:item><xf:label>Select Source</xf:label><xf:value></xf:value>
                                                                                       </xf:item>
                                                                                       <xf:itemset ref="instance('i-rec')//*:text/descendant::*:bibl[*:title]"><xf:label value="*:title"></xf:label><xf:value ref="@xml:id"></xf:value>
                                                                                       </xf:itemset>
                                                                                    </xf:select1>
                                                                                    <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref="."><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                    </xf:trigger>
                                                                                 </div>
                                                                              </div>
                                                                           </xf:repeat>
                                                                        </div>
                                                                        <xf:repeat id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5" ref="./*[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:child]">
                                                                           <div class="nested">
                                                                              <xf:group xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]]">
                                                                                 <div xmlns="http://www.w3.org/1999/xhtml" class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                                                                                    <div class="btn-group" role="group">
                                                                                       <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                       </xf:trigger>
                                                                                       <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline" ref=".[count(preceding-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                                             <setvalue ref="instance('i-move')/tmp" value="count(context()/preceding-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                                             <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="before"></insert>
                                                                                             <delete ref="."></delete>
                                                                                          </xf:action>
                                                                                       </xf:trigger>
                                                                                       <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline" ref=".[count(following-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                                             <setvalue ref="instance('i-move')/tmp" value="count(context()/following-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                                             <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="after"></insert>
                                                                                             <delete ref="."></delete>
                                                                                          </xf:action>
                                                                                       </xf:trigger><span class="elementLabel"><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@elementLabel" class="elementLabel"></xf:output><a href="#" class="triggerTEITooltip"><img src="resources/images/hn/Text_Encoding_InitiativeTEI_Logo.svg" /></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@teiElement" class="TEITooltip"></xf:output><a href="#" class="triggerElementTooltip"><i class="bi bi-question-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:desc/text()" class="elementTooltip"></xf:output>
                                                                                           <a href="#" class="triggerElementTooltip"><i class="bi bi-info-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@errorMessage" class="elementTooltip"></xf:output></span><div class="input-group float-end">
                                                                                          <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element"><xf:label ref="@label"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                             </xf:itemset>
                                                                                             <xf:action ev:event="xforms-value-changed">
                                                                                                <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                                             </xf:action>
                                                                                          </xf:select1>
                                                                                          <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]]"><xf:label><i class="bi bi-plus"></i> Add field </xf:label><xf:action ev:event="DOMActivate">
                                                                                                <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-bibl-elementTemplate')/*[local-name() = instance('i-insert-elements')//*:element][1]" position="after"></xf:insert>
                                                                                             </xf:action>
                                                                                             <xf:setvalue ev:event="DOMActivate" ref="instance('i-insert-elements')//*:element"></xf:setvalue>
                                                                                             <xf:setvalue ev:event="DOMActivate" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]"></xf:setvalue>
                                                                                          </xf:trigger>
                                                                                          <xf:group ref=".[not(count(@*[local-name()=instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident]) = count(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident))]">
                                                                                             <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts/*:attDef"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                </xf:itemset>
                                                                                                <xf:action ev:event="xforms-value-changed">
                                                                                                   <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                                                </xf:action>
                                                                                             </xf:select1>
                                                                                             <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]]"><xf:label><i class="bi bi-plus"></i> Add features</xf:label><xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"></xf:insert>
                                                                                                <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="''"></xf:setvalue>
                                                                                                <xf:setvalue ref="instance('i-availableElements')/*" value="''"></xf:setvalue>
                                                                                             </xf:trigger>
                                                                                          </xf:group>
                                                                                          <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup[not(@supress='true')]]" class="btn btn-outline-secondary btn-sm controls add showLookup"><xf:label><i class="bi bi-search"></i> Lookup  </xf:label><xf:action ev:event="DOMActivate">
                                                                                                <xf:toggle case="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5LookupUnHide" ev:event="DOMActivate"></xf:toggle>
                                                                                                <xf:load show="embed" targetid="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5subformLookup">
                                                                                                   <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@formURL"></xf:resource>
                                                                                                </xf:load>
                                                                                                <xf:setvalue ref="instance('i-lookup-uri')//uri" value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@api"></xf:setvalue>
                                                                                             </xf:action>
                                                                                          </xf:trigger>
                                                                                          <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup]" class="btn btn-outline-secondary btn-sm controls add"><xf:label><i class="bi bi-plus"></i> New  <xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"></xf:output></xf:label><xf:action ev:event="DOMActivate">
                                                                                                <xf:load show="new">
                                                                                                   <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup/@formURL"></xf:resource>
                                                                                                </xf:load>
                                                                                             </xf:action>
                                                                                          </xf:trigger>
                                                                                          <xf:switch class="lookupSwitch" style="width:.5em;">
                                                                                             <xf:case id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5LookupHide" style="display:none;"></xf:case>
                                                                                             <xf:case id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5LookupUnHide">
                                                                                                <div class="lookupDisplay">
                                                                                                   <xf:group id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5subformLookup"></xf:group>
                                                                                                   <div class="text-right">
                                                                                                      <xf:trigger class="btn btn-outline-secondary btn-sm close" appearance="full"><xf:label><i class="bi bi-x"></i> Close</xf:label><xf:toggle case="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5LookupHide" ev:event="DOMActivate"></xf:toggle>
                                                                                                         <xf:unload targetid="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5subformLookup" ev:event="DOMActivate"></xf:unload>
                                                                                                         <xf:setvalue ref="instance('i-lookup-uri')//*:uri" value="''"></xf:setvalue>
                                                                                                      </xf:trigger>
                                                                                                   </div>
                                                                                                </div>
                                                                                             </xf:case>
                                                                                          </xf:switch>
                                                                                       </div>
                                                                                    </div>
                                                                                 </div>
                                                                                 <div xmlns="http://www.w3.org/1999/xhtml" class="element">
                                                                                    <div class="inlineDisplay btn-toolbar justify-content-between" role="toolbar">
                                                                                       <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem]" class="elementSelect">
                                                                                          <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem"><xf:label ref="@ident"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                          </xf:itemset>
                                                                                       </xf:select1><xf:input xmlns="http://www.w3.org/2002/xforms" class="elementInput" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues) and instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='input']]"></xf:input><xf:textarea xmlns="http://www.w3.org/2002/xforms" class="elementTextArea" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='textarea']]"></xf:textarea><xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*[local-name() != 'source']" class="attr-group">
                                                                                          <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                                             <div class="input-group"><xf:output xmlns="http://www.w3.org/2002/xforms" class="restricted" value=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted']]"></xf:output><xf:input xmlns="http://www.w3.org/2002/xforms" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList)][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal"></xf:input><xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal">
                                                                                                   <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList/*:valItem" class="attVal"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                      <xf:hint ref="@desc"></xf:hint>
                                                                                                   </xf:itemset>
                                                                                                </xf:select1>
                                                                                                <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                </xf:trigger>
                                                                                             </div>
                                                                                          </div>
                                                                                       </xf:repeat>
                                                                                       <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@source" class="attr-group">
                                                                                          <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                                             <div class="input-group">
                                                                                                <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="." class="attVal"><xf:label></xf:label><xf:item><xf:label>Select Source</xf:label><xf:value></xf:value>
                                                                                                   </xf:item>
                                                                                                   <xf:itemset ref="instance('i-rec')//*:text/descendant::*:bibl[*:title]"><xf:label value="*:title"></xf:label><xf:value ref="@xml:id"></xf:value>
                                                                                                   </xf:itemset>
                                                                                                </xf:select1>
                                                                                                <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref="."><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                </xf:trigger>
                                                                                             </div>
                                                                                          </div>
                                                                                       </xf:repeat>
                                                                                    </div>
                                                                                    <xf:repeat id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6" ref="./*[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:child]">
                                                                                       <div class="nested">
                                                                                          <xf:group xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]]">
                                                                                             <div xmlns="http://www.w3.org/1999/xhtml" class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                                                                                                <div class="btn-group" role="group">
                                                                                                   <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                   </xf:trigger>
                                                                                                   <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline" ref=".[count(preceding-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                                                         <setvalue ref="instance('i-move')/tmp" value="count(context()/preceding-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                                                         <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="before"></insert>
                                                                                                         <delete ref="."></delete>
                                                                                                      </xf:action>
                                                                                                   </xf:trigger>
                                                                                                   <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline" ref=".[count(following-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                                                         <setvalue ref="instance('i-move')/tmp" value="count(context()/following-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                                                         <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="after"></insert>
                                                                                                         <delete ref="."></delete>
                                                                                                      </xf:action>
                                                                                                   </xf:trigger><span class="elementLabel"><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@elementLabel" class="elementLabel"></xf:output><a href="#" class="triggerTEITooltip"><img src="resources/images/hn/Text_Encoding_InitiativeTEI_Logo.svg" /></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@teiElement" class="TEITooltip"></xf:output><a href="#" class="triggerElementTooltip"><i class="bi bi-question-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:desc/text()" class="elementTooltip"></xf:output>
                                                                                                       <a href="#" class="triggerElementTooltip"><i class="bi bi-info-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@errorMessage" class="elementTooltip"></xf:output></span><div class="input-group float-end">
                                                                                                      <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element"><xf:label ref="@label"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                         </xf:itemset>
                                                                                                         <xf:action ev:event="xforms-value-changed">
                                                                                                            <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                                                         </xf:action>
                                                                                                      </xf:select1>
                                                                                                      <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]]"><xf:label><i class="bi bi-plus"></i> Add field </xf:label><xf:action ev:event="DOMActivate">
                                                                                                            <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-bibl-elementTemplate')/*[local-name() = instance('i-insert-elements')//*:element][1]" position="after"></xf:insert>
                                                                                                         </xf:action>
                                                                                                         <xf:setvalue ev:event="DOMActivate" ref="instance('i-insert-elements')//*:element"></xf:setvalue>
                                                                                                         <xf:setvalue ev:event="DOMActivate" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]"></xf:setvalue>
                                                                                                      </xf:trigger>
                                                                                                      <xf:group ref=".[not(count(@*[local-name()=instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident]) = count(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident))]">
                                                                                                         <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts/*:attDef"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                            </xf:itemset>
                                                                                                            <xf:action ev:event="xforms-value-changed">
                                                                                                               <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                                                            </xf:action>
                                                                                                         </xf:select1>
                                                                                                         <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]]"><xf:label><i class="bi bi-plus"></i> Add features</xf:label><xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"></xf:insert>
                                                                                                            <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="''"></xf:setvalue>
                                                                                                            <xf:setvalue ref="instance('i-availableElements')/*" value="''"></xf:setvalue>
                                                                                                         </xf:trigger>
                                                                                                      </xf:group>
                                                                                                      <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup[not(@supress='true')]]" class="btn btn-outline-secondary btn-sm controls add showLookup"><xf:label><i class="bi bi-search"></i> Lookup  </xf:label><xf:action ev:event="DOMActivate">
                                                                                                            <xf:toggle case="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6LookupUnHide" ev:event="DOMActivate"></xf:toggle>
                                                                                                            <xf:load show="embed" targetid="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6subformLookup">
                                                                                                               <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@formURL"></xf:resource>
                                                                                                            </xf:load>
                                                                                                            <xf:setvalue ref="instance('i-lookup-uri')//uri" value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@api"></xf:setvalue>
                                                                                                         </xf:action>
                                                                                                      </xf:trigger>
                                                                                                      <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup]" class="btn btn-outline-secondary btn-sm controls add"><xf:label><i class="bi bi-plus"></i> New  <xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"></xf:output></xf:label><xf:action ev:event="DOMActivate">
                                                                                                            <xf:load show="new">
                                                                                                               <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup/@formURL"></xf:resource>
                                                                                                            </xf:load>
                                                                                                         </xf:action>
                                                                                                      </xf:trigger>
                                                                                                      <xf:switch class="lookupSwitch" style="width:.5em;">
                                                                                                         <xf:case id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6LookupHide" style="display:none;"></xf:case>
                                                                                                         <xf:case id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6LookupUnHide">
                                                                                                            <div class="lookupDisplay">
                                                                                                               <xf:group id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6subformLookup"></xf:group>
                                                                                                               <div class="text-right">
                                                                                                                  <xf:trigger class="btn btn-outline-secondary btn-sm close" appearance="full"><xf:label><i class="bi bi-x"></i> Close</xf:label><xf:toggle case="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6LookupHide" ev:event="DOMActivate"></xf:toggle>
                                                                                                                     <xf:unload targetid="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6subformLookup" ev:event="DOMActivate"></xf:unload>
                                                                                                                     <xf:setvalue ref="instance('i-lookup-uri')//*:uri" value="''"></xf:setvalue>
                                                                                                                  </xf:trigger>
                                                                                                               </div>
                                                                                                            </div>
                                                                                                         </xf:case>
                                                                                                      </xf:switch>
                                                                                                   </div>
                                                                                                </div>
                                                                                             </div>
                                                                                             <div xmlns="http://www.w3.org/1999/xhtml" class="element">
                                                                                                <div class="inlineDisplay btn-toolbar justify-content-between" role="toolbar">
                                                                                                   <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem]" class="elementSelect">
                                                                                                      <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem"><xf:label ref="@ident"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                      </xf:itemset>
                                                                                                   </xf:select1><xf:input xmlns="http://www.w3.org/2002/xforms" class="elementInput" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues) and instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='input']]"></xf:input><xf:textarea xmlns="http://www.w3.org/2002/xforms" class="elementTextArea" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='textarea']]"></xf:textarea><xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*[local-name() != 'source']" class="attr-group">
                                                                                                      <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                                                         <div class="input-group"><xf:output xmlns="http://www.w3.org/2002/xforms" class="restricted" value=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted']]"></xf:output><xf:input xmlns="http://www.w3.org/2002/xforms" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList)][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal"></xf:input><xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal">
                                                                                                               <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList/*:valItem" class="attVal"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                                  <xf:hint ref="@desc"></xf:hint>
                                                                                                               </xf:itemset>
                                                                                                            </xf:select1>
                                                                                                            <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                            </xf:trigger>
                                                                                                         </div>
                                                                                                      </div>
                                                                                                   </xf:repeat>
                                                                                                   <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@source" class="attr-group">
                                                                                                      <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                                                         <div class="input-group">
                                                                                                            <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="." class="attVal"><xf:label></xf:label><xf:item><xf:label>Select Source</xf:label><xf:value></xf:value>
                                                                                                               </xf:item>
                                                                                                               <xf:itemset ref="instance('i-rec')//*:text/descendant::*:bibl[*:title]"><xf:label value="*:title"></xf:label><xf:value ref="@xml:id"></xf:value>
                                                                                                               </xf:itemset>
                                                                                                            </xf:select1>
                                                                                                            <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref="."><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                            </xf:trigger>
                                                                                                         </div>
                                                                                                      </div>
                                                                                                   </xf:repeat>
                                                                                                </div>
                                                                                                <xf:repeat id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7" ref="./*[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:child]">
                                                                                                   <div class="nested">
                                                                                                      <xf:group xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]]">
                                                                                                         <div xmlns="http://www.w3.org/1999/xhtml" class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                                                                                                            <div class="btn-group" role="group">
                                                                                                               <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                               </xf:trigger>
                                                                                                               <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline" ref=".[count(preceding-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                                                                     <setvalue ref="instance('i-move')/tmp" value="count(context()/preceding-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                                                                     <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="before"></insert>
                                                                                                                     <delete ref="."></delete>
                                                                                                                  </xf:action>
                                                                                                               </xf:trigger>
                                                                                                               <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline" ref=".[count(following-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                                                                     <setvalue ref="instance('i-move')/tmp" value="count(context()/following-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                                                                     <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="after"></insert>
                                                                                                                     <delete ref="."></delete>
                                                                                                                  </xf:action>
                                                                                                               </xf:trigger><span class="elementLabel"><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@elementLabel" class="elementLabel"></xf:output><a href="#" class="triggerTEITooltip"><img src="resources/images/hn/Text_Encoding_InitiativeTEI_Logo.svg" /></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@teiElement" class="TEITooltip"></xf:output><a href="#" class="triggerElementTooltip"><i class="bi bi-question-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:desc/text()" class="elementTooltip"></xf:output>
                                                                                                                   <a href="#" class="triggerElementTooltip"><i class="bi bi-info-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@errorMessage" class="elementTooltip"></xf:output></span><div class="input-group float-end">
                                                                                                                  <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element"><xf:label ref="@label"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                                     </xf:itemset>
                                                                                                                     <xf:action ev:event="xforms-value-changed">
                                                                                                                        <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                                                                     </xf:action>
                                                                                                                  </xf:select1>
                                                                                                                  <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]]"><xf:label><i class="bi bi-plus"></i> Add field </xf:label><xf:action ev:event="DOMActivate">
                                                                                                                        <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-bibl-elementTemplate')/*[local-name() = instance('i-insert-elements')//*:element][1]" position="after"></xf:insert>
                                                                                                                     </xf:action>
                                                                                                                     <xf:setvalue ev:event="DOMActivate" ref="instance('i-insert-elements')//*:element"></xf:setvalue>
                                                                                                                     <xf:setvalue ev:event="DOMActivate" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]"></xf:setvalue>
                                                                                                                  </xf:trigger>
                                                                                                                  <xf:group ref=".[not(count(@*[local-name()=instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident]) = count(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident))]">
                                                                                                                     <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts/*:attDef"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                                        </xf:itemset>
                                                                                                                        <xf:action ev:event="xforms-value-changed">
                                                                                                                           <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                                                                        </xf:action>
                                                                                                                     </xf:select1>
                                                                                                                     <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]]"><xf:label><i class="bi bi-plus"></i> Add features</xf:label><xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"></xf:insert>
                                                                                                                        <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="''"></xf:setvalue>
                                                                                                                        <xf:setvalue ref="instance('i-availableElements')/*" value="''"></xf:setvalue>
                                                                                                                     </xf:trigger>
                                                                                                                  </xf:group>
                                                                                                                  <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup[not(@supress='true')]]" class="btn btn-outline-secondary btn-sm controls add showLookup"><xf:label><i class="bi bi-search"></i> Lookup  </xf:label><xf:action ev:event="DOMActivate">
                                                                                                                        <xf:toggle case="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7LookupUnHide" ev:event="DOMActivate"></xf:toggle>
                                                                                                                        <xf:load show="embed" targetid="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7subformLookup">
                                                                                                                           <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@formURL"></xf:resource>
                                                                                                                        </xf:load>
                                                                                                                        <xf:setvalue ref="instance('i-lookup-uri')//uri" value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@api"></xf:setvalue>
                                                                                                                     </xf:action>
                                                                                                                  </xf:trigger>
                                                                                                                  <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup]" class="btn btn-outline-secondary btn-sm controls add"><xf:label><i class="bi bi-plus"></i> New  <xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"></xf:output></xf:label><xf:action ev:event="DOMActivate">
                                                                                                                        <xf:load show="new">
                                                                                                                           <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup/@formURL"></xf:resource>
                                                                                                                        </xf:load>
                                                                                                                     </xf:action>
                                                                                                                  </xf:trigger>
                                                                                                                  <xf:switch class="lookupSwitch" style="width:.5em;">
                                                                                                                     <xf:case id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7LookupHide" style="display:none;"></xf:case>
                                                                                                                     <xf:case id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7LookupUnHide">
                                                                                                                        <div class="lookupDisplay">
                                                                                                                           <xf:group id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7subformLookup"></xf:group>
                                                                                                                           <div class="text-right">
                                                                                                                              <xf:trigger class="btn btn-outline-secondary btn-sm close" appearance="full"><xf:label><i class="bi bi-x"></i> Close</xf:label><xf:toggle case="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7LookupHide" ev:event="DOMActivate"></xf:toggle>
                                                                                                                                 <xf:unload targetid="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7subformLookup" ev:event="DOMActivate"></xf:unload>
                                                                                                                                 <xf:setvalue ref="instance('i-lookup-uri')//*:uri" value="''"></xf:setvalue>
                                                                                                                              </xf:trigger>
                                                                                                                           </div>
                                                                                                                        </div>
                                                                                                                     </xf:case>
                                                                                                                  </xf:switch>
                                                                                                               </div>
                                                                                                            </div>
                                                                                                         </div>
                                                                                                         <div xmlns="http://www.w3.org/1999/xhtml" class="element">
                                                                                                            <div class="inlineDisplay btn-toolbar justify-content-between" role="toolbar">
                                                                                                               <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem]" class="elementSelect">
                                                                                                                  <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem"><xf:label ref="@ident"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                                  </xf:itemset>
                                                                                                               </xf:select1><xf:input xmlns="http://www.w3.org/2002/xforms" class="elementInput" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues) and instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='input']]"></xf:input><xf:textarea xmlns="http://www.w3.org/2002/xforms" class="elementTextArea" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='textarea']]"></xf:textarea><xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*[local-name() != 'source']" class="attr-group">
                                                                                                                  <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                                                                     <div class="input-group"><xf:output xmlns="http://www.w3.org/2002/xforms" class="restricted" value=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted']]"></xf:output><xf:input xmlns="http://www.w3.org/2002/xforms" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList)][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal"></xf:input><xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal">
                                                                                                                           <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList/*:valItem" class="attVal"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                                              <xf:hint ref="@desc"></xf:hint>
                                                                                                                           </xf:itemset>
                                                                                                                        </xf:select1>
                                                                                                                        <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                                        </xf:trigger>
                                                                                                                     </div>
                                                                                                                  </div>
                                                                                                               </xf:repeat>
                                                                                                               <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@source" class="attr-group">
                                                                                                                  <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                                                                     <div class="input-group">
                                                                                                                        <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="." class="attVal"><xf:label></xf:label><xf:item><xf:label>Select Source</xf:label><xf:value></xf:value>
                                                                                                                           </xf:item>
                                                                                                                           <xf:itemset ref="instance('i-rec')//*:text/descendant::*:bibl[*:title]"><xf:label value="*:title"></xf:label><xf:value ref="@xml:id"></xf:value>
                                                                                                                           </xf:itemset>
                                                                                                                        </xf:select1>
                                                                                                                        <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref="."><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                                        </xf:trigger>
                                                                                                                     </div>
                                                                                                                  </div>
                                                                                                               </xf:repeat>
                                                                                                            </div>
                                                                                                            <xf:repeat id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7RepeatLevel8" ref="./*[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements/*:child]">
                                                                                                               <div class="nested">
                                                                                                                  <xf:group xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]]">
                                                                                                                     <div xmlns="http://www.w3.org/1999/xhtml" class="btn-toolbar justify-content-between mt-3 elementControls" role="toolbar">
                                                                                                                        <div class="btn-group" role="group">
                                                                                                                           <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls remove inline"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                                           </xf:trigger>
                                                                                                                           <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveUp inline" ref=".[count(preceding-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-up-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                                                                                 <setvalue ref="instance('i-move')/tmp" value="count(context()/preceding-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                                                                                 <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="before"></insert>
                                                                                                                                 <delete ref="."></delete>
                                                                                                                              </xf:action>
                                                                                                                           </xf:trigger>
                                                                                                                           <xf:trigger xmlns="http://www.w3.org/2002/xforms" appearance="minimal" class="btn controls moveDown inline" ref=".[count(following-sibling::*) != 0]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-arrow-down-circle"></i></xf:label><xf:action ev:event="DOMActivate">
                                                                                                                                 <setvalue ref="instance('i-move')/tmp" value="count(context()/following-sibling::*[1]/preceding-sibling::*) + 1"></setvalue>
                                                                                                                                 <insert origin="." ref="parent::*/*" at="instance('i-move')/tmp" position="after"></insert>
                                                                                                                                 <delete ref="."></delete>
                                                                                                                              </xf:action>
                                                                                                                           </xf:trigger><span class="elementLabel"><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@elementLabel" class="elementLabel"></xf:output><a href="#" class="triggerTEITooltip"><img src="resources/images/hn/Text_Encoding_InitiativeTEI_Logo.svg" /></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@teiElement" class="TEITooltip"></xf:output><a href="#" class="triggerElementTooltip"><i class="bi bi-question-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:desc/text()" class="elementTooltip"></xf:output>
                                                                                                                               <a href="#" class="triggerElementTooltip"><i class="bi bi-info-circle"></i></a><xf:output ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/@errorMessage" class="elementTooltip"></xf:output></span><div class="input-group float-end">
                                                                                                                              <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements[1]/descendant-or-self::*:element"><xf:label ref="@label"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                                                 </xf:itemset>
                                                                                                                                 <xf:action ev:event="xforms-value-changed">
                                                                                                                                    <xf:setvalue ref="instance('i-insert-elements')//*:element" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                                                                                 </xf:action>
                                                                                                                              </xf:select1>
                                                                                                                              <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]]"><xf:label><i class="bi bi-plus"></i> Add field </xf:label><xf:action ev:event="DOMActivate">
                                                                                                                                    <xf:insert ev:event="DOMActivate" context="." at="." origin="instance('i-bibl-elementTemplate')/*[local-name() = instance('i-insert-elements')//*:element][1]" position="after"></xf:insert>
                                                                                                                                 </xf:action>
                                                                                                                                 <xf:setvalue ev:event="DOMActivate" ref="instance('i-insert-elements')//*:element"></xf:setvalue>
                                                                                                                                 <xf:setvalue ev:event="DOMActivate" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/*:childElements[1]/*:child/*:element]"></xf:setvalue>
                                                                                                                              </xf:trigger>
                                                                                                                              <xf:group ref=".[not(count(@*[local-name()=instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident]) = count(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef/@ident))]">
                                                                                                                                 <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]"><xf:label></xf:label><xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts/*:attDef"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                                                    </xf:itemset>
                                                                                                                                    <xf:action ev:event="xforms-value-changed">
                                                                                                                                       <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="instance('i-availableElements')/*[local-name() = local-name(current())]"></xf:setvalue>
                                                                                                                                    </xf:action>
                                                                                                                                 </xf:select1>
                                                                                                                                 <xf:trigger class="btn btn-outline-secondary btn-sm controls add" appearance="full" ref=".[instance('i-availableElements')/*[local-name() = local-name(current())][instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:availableAtts//*:attDef]]"><xf:label><i class="bi bi-plus"></i> Add features</xf:label><xf:insert ev:event="DOMActivate" context=".[not(name(@*) = instance('i-insert-attributes')//*:attribute)]" origin="instance('i-attributeTemplate')//@*[name(.) = instance('i-insert-attributes')//*:attribute]" position="after"></xf:insert>
                                                                                                                                    <xf:setvalue ref="instance('i-insert-attributes')//*:attribute" value="''"></xf:setvalue>
                                                                                                                                    <xf:setvalue ref="instance('i-availableElements')/*" value="''"></xf:setvalue>
                                                                                                                                 </xf:trigger>
                                                                                                                              </xf:group>
                                                                                                                              <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup[not(@supress='true')]]" class="btn btn-outline-secondary btn-sm controls add showLookup"><xf:label><i class="bi bi-search"></i> Lookup  </xf:label><xf:action ev:event="DOMActivate">
                                                                                                                                    <xf:toggle case="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7RepeatLevel8LookupUnHide" ev:event="DOMActivate"></xf:toggle>
                                                                                                                                    <xf:load show="embed" targetid="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7RepeatLevel8subformLookup">
                                                                                                                                       <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@formURL"></xf:resource>
                                                                                                                                    </xf:load>
                                                                                                                                    <xf:setvalue ref="instance('i-lookup-uri')//uri" value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:lookup/@api"></xf:setvalue>
                                                                                                                                 </xf:action>
                                                                                                                              </xf:trigger>
                                                                                                                              <xf:trigger appearance="minimal" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup]" class="btn btn-outline-secondary btn-sm controls add"><xf:label><i class="bi bi-plus"></i> New  <xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())]/@elementLabel"></xf:output></xf:label><xf:action ev:event="DOMActivate">
                                                                                                                                    <xf:load show="new">
                                                                                                                                       <xf:resource value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:popup/@formURL"></xf:resource>
                                                                                                                                    </xf:load>
                                                                                                                                 </xf:action>
                                                                                                                              </xf:trigger>
                                                                                                                              <xf:switch class="lookupSwitch" style="width:.5em;">
                                                                                                                                 <xf:case id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7RepeatLevel8LookupHide" style="display:none;"></xf:case>
                                                                                                                                 <xf:case id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7RepeatLevel8LookupUnHide">
                                                                                                                                    <div class="lookupDisplay">
                                                                                                                                       <xf:group id="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7RepeatLevel8subformLookup"></xf:group>
                                                                                                                                       <div class="text-right">
                                                                                                                                          <xf:trigger class="btn btn-outline-secondary btn-sm close" appearance="full"><xf:label><i class="bi bi-x"></i> Close</xf:label><xf:toggle case="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7RepeatLevel8LookupHide" ev:event="DOMActivate"></xf:toggle>
                                                                                                                                             <xf:unload targetid="biblGrpRepeatLevel21GrpRepeatLevel1RepeatLevel2RepeatLevel3RepeatLevel4RepeatLevel5RepeatLevel6RepeatLevel7RepeatLevel8subformLookup" ev:event="DOMActivate"></xf:unload>
                                                                                                                                             <xf:setvalue ref="instance('i-lookup-uri')//*:uri" value="''"></xf:setvalue>
                                                                                                                                          </xf:trigger>
                                                                                                                                       </div>
                                                                                                                                    </div>
                                                                                                                                 </xf:case>
                                                                                                                              </xf:switch>
                                                                                                                           </div>
                                                                                                                        </div>
                                                                                                                     </div>
                                                                                                                     <div xmlns="http://www.w3.org/1999/xhtml" class="element">
                                                                                                                        <div class="inlineDisplay btn-toolbar justify-content-between" role="toolbar">
                                                                                                                           <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem]" class="elementSelect">
                                                                                                                              <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues/*:element/*:valList/*:valItem"><xf:label ref="@ident"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                                              </xf:itemset>
                                                                                                                           </xf:select1><xf:input xmlns="http://www.w3.org/2002/xforms" class="elementInput" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:controlledValues) and instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='input']]"></xf:input><xf:textarea xmlns="http://www.w3.org/2002/xforms" class="elementTextArea" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current())][1]/*:childElements/*:textNode[@type='textarea']]"></xf:textarea><xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@*[local-name() != 'source']" class="attr-group">
                                                                                                                              <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                                                                                 <div class="input-group"><xf:output xmlns="http://www.w3.org/2002/xforms" class="restricted" value=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted']]"></xf:output><xf:input xmlns="http://www.w3.org/2002/xforms" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList)][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal"></xf:input><xf:select1 xmlns="http://www.w3.org/2002/xforms" ref=".[instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList][not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]" class="attVal">
                                                                                                                                       <xf:itemset ref="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]//*:valList/*:valItem" class="attVal"><xf:label ref="@attLabel"></xf:label><xf:value ref="@ident"></xf:value>
                                                                                                                                          <xf:hint ref="@desc"></xf:hint>
                                                                                                                                       </xf:itemset>
                                                                                                                                    </xf:select1>
                                                                                                                                    <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref=".[not(instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())][@style='restricted'])]"><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                                                    </xf:trigger>
                                                                                                                                 </div>
                                                                                                                              </div>
                                                                                                                           </xf:repeat>
                                                                                                                           <xf:repeat xmlns="http://www.w3.org/2002/xforms" ref="@source" class="attr-group">
                                                                                                                              <div xmlns="http://www.w3.org/1999/xhtml" class="btn-group" role="group">
                                                                                                                                 <div class="input-group">
                                                                                                                                    <xf:select1 xmlns="http://www.w3.org/2002/xforms" ref="." class="attVal"><xf:label></xf:label><xf:item><xf:label>Select Source</xf:label><xf:value></xf:value>
                                                                                                                                       </xf:item>
                                                                                                                                       <xf:itemset ref="instance('i-rec')//*:text/descendant::*:bibl[*:title]"><xf:label value="*:title"></xf:label><xf:value ref="@xml:id"></xf:value>
                                                                                                                                       </xf:itemset>
                                                                                                                                    </xf:select1>
                                                                                                                                    <xf:trigger xmlns="http://www.w3.org/2002/xforms" class="btn btn-outline-secondary btn-sm controls" appearance="full" ref="."><xf:label><i xmlns="http://www.w3.org/1999/xhtml" class="bi bi-x"></i><xf:output value="instance('i-bibl-schemaConstraints')/*[local-name() = local-name(current()/parent::*)][1]//*:availableAtts/*:attDef[@ident = name(current())]/@attLabel"></xf:output></xf:label><xf:delete ev:event="DOMActivate" ref="."></xf:delete>
                                                                                                                                    </xf:trigger>
                                                                                                                                 </div>
                                                                                                                              </div>
                                                                                                                           </xf:repeat>
                                                                                                                        </div>
                                                                                                                     </div>
                                                                                                                  </xf:group>
                                                                                                               </div>
                                                                                                            </xf:repeat>
                                                                                                         </div>
                                                                                                      </xf:group>
                                                                                                   </div>
                                                                                                </xf:repeat>
                                                                                             </div>
                                                                                          </xf:group>
                                                                                       </div>
                                                                                    </xf:repeat>
                                                                                 </div>
                                                                              </xf:group>
                                                                           </div>
                                                                        </xf:repeat>
                                                                     </div>
                                                                  </xf:group>
                                                               </div>
                                                            </xf:repeat>
                                                         </div>
                                                      </xf:group>
                                                   </div>
                                                </xf:repeat>
                                             </div>
                                          </xf:group>
                                       </div>
                                    </xf:repeat>
                                 </div>
                              </xf:group>
                           </xf:repeat>
                        </div>
                     </xf:repeat>
                  </div>
               </div>
            </div>
         </div>
      </xf:group>
   </body>
</html>